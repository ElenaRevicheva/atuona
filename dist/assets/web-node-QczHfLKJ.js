import{w as c,E as f}from"./main-C3cAwJ4P.js";async function m(r,u,d,e){var s,a,i;const h={},t=await c(r)(`https://${f().storage}/ipfs/upload`,{body:u,headers:h,method:"POST",requestTimeoutMs:((i=(a=(s=r.config)==null?void 0:s.storage)==null?void 0:a.fetch)==null?void 0:i.requestTimeoutMs)||12e4,useAuthToken:!0});if(!t.ok)throw t.status===401?new Error("Unauthorized - You don't have permission to use this service."):t.status===402?new Error("You have reached your storage limit. Please add a valid payment method to continue using the service."):t.status===403?new Error("Forbidden - You don't have permission to use this service."):new Error(`Failed to upload files to IPFS - ${t.status} - ${t.statusText}`);const o=(await t.json()).IpfsHash;if(!o)throw new Error("Failed to upload files to IPFS - Bad CID");return e!=null&&e.uploadWithoutDirectory?[`ipfs://${o}`]:d.map(n=>`ipfs://${o}/${n}`)}export{m as uploadBatch};
