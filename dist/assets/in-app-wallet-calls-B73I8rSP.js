import{ay as h,ae as p,az as m,aA as f,aB as b,aC as g}from"./main-C_x9syUL.js";import{sendBatchTransaction as w}from"./send-batch-transaction-CX8zXqMy.js";async function T(e){const s=await h(e);return p(s)}const r=new m(1e3);async function k(e){const{account:s,calls:c}=e,t=[],a=g(65);if(r.set(a,t),s.sendBatchTransaction){const o=await w({account:s,transactions:c});t.push(o.transactionHash),r.set(a,t)}else for(const o of c){const i=await T({account:s,transaction:o});t.push(i.transactionHash),r.set(a,t)}return a}async function y(e){const{chain:s,client:c,id:t}=e,a=r.get(t);if(!a)throw new Error("Failed to get calls status, unknown bundle id");const o=f({chain:s,client:c});let i="success";const d=await Promise.all(a.map(l=>b(o,{hash:l}).then(n=>({blockHash:n.blockHash,blockNumber:n.blockNumber,gasUsed:n.gasUsed,logs:n.logs.map(u=>({address:u.address,data:u.data,topics:u.topics})),status:n.status,transactionHash:n.transactionHash})).catch(()=>(i="pending",null))));return{atomic:!1,chainId:s.id,id:t,receipts:d.filter(l=>l!==null),status:i,statusCode:200,version:"2.0.0"}}export{y as inAppWalletGetCallsStatus,k as inAppWalletSendCalls};
