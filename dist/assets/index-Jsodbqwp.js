import{cS as Ft,cT as _t,cU as Ks,cV as Ys,cW as Jo,cX as Kr,cY as Xo,cZ as it,H as $,c_ as Ze,c$ as Ve,d0 as lr,d1 as ct,ac as Ke,z as ve,aE as J,aD as N,d2 as Js,d3 as Xs,d4 as Qo,d5 as pr,d6 as be,d7 as Qs,b2 as G,b3 as fe,_ as mr,d8 as D,d9 as ut,da as Z,aT as ce,B as le,I as ge,db as Yr,dc as ea,aS as ne,aR as Mt,dd as ze,de as Te,df as hr,dg as ta,a9 as Kt,dh as yr,di as na,aY as zt,dj as at,dk as Ae,dl as ra,dm as qt,dn as sa,dp as aa,dq as oa,dr as ia,ds as br,bD as $e,dt as ei,du as Ne,dv as Ot,E as Lt,dw as Gt,dx as ti,dy as Jr,dz as ni,dA as ri,dB as si,dC as ai,b1 as Ee,dD as Bt,dE as oi,dF as qe,dG as we,C as ii,dH as ci,a$ as ui,dI as wt,a_ as _n,dJ as ca,p as Xr,dK as di,dL as fi,dM as li,dN as Qr,dO as Mn,aU as pi,dP as mi,aX as hi,aW as es,dQ as yi,dR as bi,dS as gi,m as wi,v as xi,o as vi}from"./main-Wfqgde1N.js";import{e3 as R0,e4 as F0,e5 as _0,e6 as M0,A as z0,e7 as q0,e8 as O0,e9 as L0,K as G0,dT as D0,ei as j0,ef as U0,ea as H0,eb as V0,dU as W0,dV as Z0,ee as K0,ec as Y0,el as J0,dW as X0,eg as Q0,dX as ep,dY as tp,dZ as np,em as rp,d_ as sp,d$ as ap,en as op,ej as ip,eh as cp,ek as up,e0 as dp,e2 as fp,e1 as lp,U as pp,ew as mp,F as hp,ey as yp,ez as bp,eA as gp,eB as wp,eD as xp,eo as vp,eE as Ep,ep as Tp,er as Pp,es as Ip,eM as Ap,eC as Sp,eF as Bp,eH as Cp,eI as kp,eI as $p,eu as Np,ev as Rp,eG as Fp,ex as _p,eK as Mp,et as zp,ed as qp,eL as Op,eJ as Lp,eH as Gp,eI as Dp,eJ as jp,eI as Up,eq as Hp}from"./main-Wfqgde1N.js";import{g as Ei,I as Dt,R as gr,a as jt,b as zn,A as qn,M as xt,H as ke,c as Ti,U as Ct,d as ts,B as ns,e as rs,D as ss,f as as,S as os,C as is,P as cs,h as us,i as ds,J as fs,L as On,T as Ln,j as ls,k as ps,l as ms,m as hs,n as ys,o as bs,p as Gn,q as ua,r as Ut,W as gs}from"./rpc-yHe17ejV.js";import{s as Wp,t as Zp}from"./rpc-yHe17ejV.js";import{t as Pe,s as Pi,H as Ii,a as Ai}from"./sha256-BBcW5XgI.js";import{b as Yp,h as Jp}from"./sha256-BBcW5XgI.js";import{m as Yt}from"./number-DhiSQStc.js";import{o as Qp,p as em,q as tm,r as nm,s as rm,t as sm,u as am,c as om,v as im,w as cm,x as um,y as dm,z as fm,A as lm,B as pm,C as mm,D as hm,E as ym,d as bm,F as gm,G as wm,H as xm,e as vm,f as Em,g as Tm,h as Pm,i as Im,j as Am,b as Sm,k as Bm,l as Cm,n as km,T as $m,U as Nm,V as Rm,W as Fm,X as _m,Y as Mm,Z as zm,a as qm,_ as Om,$ as Lm,a0 as Gm,a1 as Dm,a2 as jm,a3 as Um,a4 as Hm,a5 as Vm,a6 as Wm,a7 as Zm,J as Km,a8 as Ym,a9 as Jm,K as Xm,L as Qm,M as eh,N as th,O as nh,P as rh,I as sh,Q as ah,R as oh,S as ih,am as ch,an as uh,ao as dh,ap as fh,aq as lh,ar as ph,as as mh,ab as hh,at as yh,au as bh,av as gh,aw as wh,ax as xh,ay as vh,az as Eh,aA as Th,aB as Ph,aC as Ih,ac as Ah,aD as Sh,aE as Bh,aF as Ch,ad as kh,ae as $h,af as Nh,ag as Rh,ah as Fh,ai as _h,aa as Mh,aj as zh,ak as qh,al as Oh}from"./number-DhiSQStc.js";import{e as Gh}from"./encodePacked-CaZTnkmO.js";function Ul(e){let t;if(typeof e=="string")t=Ft(e,{modifiers:_t});else{const n=Ks(e),r=e.length;for(let s=0;s<r;s++){const a=e[s];if(!Ys(a)){t=Ft(a,{modifiers:_t,structs:n});break}}}if(!t)throw new Jo({param:e});return t}function Hl(e){const t=[];if(typeof e=="string"){const n=Kr(e),r=n.length;for(let s=0;s<r;s++)t.push(Ft(n[s],{modifiers:_t}))}else{const n=Ks(e),r=e.length;for(let s=0;s<r;s++){const a=e[s];if(Ys(a))continue;const o=Kr(a),i=o.length;for(let c=0;c<i;c++)t.push(Ft(o[c],{modifiers:_t,structs:n}))}}if(t.length===0)throw new Xo({params:e});return t}function M(e,t,n){const r=e[t.name];if(typeof r=="function")return r;const s=e[n];return typeof s=="function"?s:a=>t(e,a)}function Jt(e,{method:t}){var r,s;const n={};return e.transport.type==="fallback"&&((s=(r=e.transport).onResponse)==null||s.call(r,({method:a,response:o,status:i,transport:c})=>{i==="success"&&t===a&&(n[o]=c.request)})),a=>n[a]||e.request}async function wr(e,t){const{address:n,abi:r,args:s,eventName:a,fromBlock:o,strict:i,toBlock:c}=t,d=Jt(e,{method:"eth_newFilter"}),u=a?it({abi:r,args:s,eventName:a}):void 0,l=await e.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof o=="bigint"?$(o):o,toBlock:typeof c=="bigint"?$(c):c,topics:u}]});return{abi:r,args:s,eventName:a,id:l,request:d(l),strict:!!i,type:"event"}}function Y(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}const ws="/docs/contract/encodeFunctionData";function Si(e){const{abi:t,args:n,functionName:r}=e;let s=t[0];if(r){const a=Ze({abi:t,args:n,name:r});if(!a)throw new Ve(r,{docsPath:ws});s=a}if(s.type!=="function")throw new Ve(void 0,{docsPath:ws});return{abi:[s],functionName:lr(ct(s))}}function ie(e){const{args:t}=e,{abi:n,functionName:r}=(()=>{var i;return e.abi.length===1&&((i=e.functionName)!=null&&i.startsWith("0x"))?e:Si(e)})(),s=n[0],a=r,o="inputs"in s&&s.inputs?Ke(s.inputs,t??[]):void 0;return ve([a,o??"0x"])}function da({abiItem:e,args:t,includeFunctionName:n=!0,includeName:r=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map((s,a)=>`${r&&s.name?`${s.name}: `:""}${typeof t[a]=="object"?J(t[a]):t[a]}`).join(", ")})`}const fa={gwei:9,wei:18},la={ether:-9,wei:9},Vl={ether:-18,gwei:-9};function pa(e,t){let n=e.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(t,"0");let[s,a]=[n.slice(0,n.length-t),n.slice(n.length-t)];return a=a.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${a?`.${a}`:""}`}function xr(e,t="wei"){return pa(e,fa[t])}function te(e,t="wei"){return pa(e,la[t])}class Bi extends N{constructor({address:t}){super(`State for account "${t}" is set multiple times.`,{name:"AccountStateConflictError"})}}class Ci extends N{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function xs(e){return e.reduce((t,{slot:n,value:r})=>`${t}        ${n}: ${r}
`,"")}function ki(e){return e.reduce((t,{address:n,...r})=>{let s=`${t}    ${n}:
`;return r.nonce&&(s+=`      nonce: ${r.nonce}
`),r.balance&&(s+=`      balance: ${r.balance}
`),r.code&&(s+=`      code: ${r.code}
`),r.state&&(s+=`      state:
`,s+=xs(r.state)),r.stateDiff&&(s+=`      stateDiff:
`,s+=xs(r.stateDiff)),s},`  State Override:
`).slice(0,-1)}function dt(e){const t=Object.entries(e).map(([r,s])=>s===void 0||s===!1?null:[r,s]).filter(Boolean),n=t.reduce((r,[s])=>Math.max(r,s.length),0);return t.map(([r,s])=>`  ${`${r}:`.padEnd(n+1)}  ${s}`).join(`
`)}class $i extends N{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class ma extends N{constructor({v:t}){super(`Invalid \`v\` value "${t}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}}class Ni extends N{constructor({transaction:t}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",dt(t),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class Ri extends N{constructor({serializedType:t}){super(`Serialized transaction type "${t}" is invalid.`,{name:"InvalidSerializedTransactionType"}),Object.defineProperty(this,"serializedType",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.serializedType=t}}class ft extends N{constructor({attributes:t,serializedTransaction:n,type:r}){const s=Object.entries(t).map(([a,o])=>typeof o>"u"?a:void 0).filter(Boolean);super(`Invalid serialized transaction of type "${r}" was provided.`,{metaMessages:[`Serialized Transaction: "${n}"`,s.length>0?`Missing Attributes: ${s.join(", ")}`:""].filter(Boolean),name:"InvalidSerializedTransactionError"}),Object.defineProperty(this,"serializedTransaction",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.serializedTransaction=n,this.type=r}}class Fi extends N{constructor({storageKey:t}){super(`Size for storage key "${t}" is invalid. Expected 32 bytes. Got ${Math.floor((t.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}}class _i extends N{constructor(t,{account:n,docsPath:r,chain:s,data:a,gas:o,gasPrice:i,maxFeePerGas:c,maxPriorityFeePerGas:d,nonce:u,to:l,value:p}){var m;const f=dt({chain:s&&`${s==null?void 0:s.name} (id: ${s==null?void 0:s.id})`,from:n==null?void 0:n.address,to:l,value:typeof p<"u"&&`${xr(p)} ${((m=s==null?void 0:s.nativeCurrency)==null?void 0:m.symbol)||"ETH"}`,data:a,gas:o,gasPrice:typeof i<"u"&&`${te(i)} gwei`,maxFeePerGas:typeof c<"u"&&`${te(c)} gwei`,maxPriorityFeePerGas:typeof d<"u"&&`${te(d)} gwei`,nonce:u});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Request Arguments:",f].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class ha extends N{constructor({blockHash:t,blockNumber:n,blockTag:r,hash:s,index:a}){let o="Transaction";r&&a!==void 0&&(o=`Transaction at block time "${r}" at index "${a}"`),t&&a!==void 0&&(o=`Transaction at block hash "${t}" at index "${a}"`),n&&a!==void 0&&(o=`Transaction at block number "${n}" at index "${a}"`),s&&(o=`Transaction with hash "${s}"`),super(`${o} could not be found.`,{name:"TransactionNotFoundError"})}}class ya extends N{constructor({hash:t}){super(`Transaction receipt with hash "${t}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class Mi extends N{constructor({hash:t}){super(`Timed out while waiting for transaction with hash "${t}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}class ba extends N{constructor(t,{account:n,docsPath:r,chain:s,data:a,gas:o,gasPrice:i,maxFeePerGas:c,maxPriorityFeePerGas:d,nonce:u,to:l,value:p,stateOverride:f}){var g;const m=n?Y(n):void 0;let h=dt({from:m==null?void 0:m.address,to:l,value:typeof p<"u"&&`${xr(p)} ${((g=s==null?void 0:s.nativeCurrency)==null?void 0:g.symbol)||"ETH"}`,data:a,gas:o,gasPrice:typeof i<"u"&&`${te(i)} gwei`,maxFeePerGas:typeof c<"u"&&`${te(c)} gwei`,maxPriorityFeePerGas:typeof d<"u"&&`${te(d)} gwei`,nonce:u});f&&(h+=`
${ki(f)}`),super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",h].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class zi extends N{constructor(t,{abi:n,args:r,contractAddress:s,docsPath:a,functionName:o,sender:i}){const c=Ze({abi:n,args:r,name:o}),d=c?da({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,u=c?ct(c,{includeName:!0}):void 0,l=dt({address:s&&Ei(s),function:u,args:d&&d!=="()"&&`${[...Array((o==null?void 0:o.length)??0).keys()].map(()=>" ").join("")}${d}`,sender:i});super(t.shortMessage||`An unknown error occurred while executing the contract function "${o}".`,{cause:t,docsPath:a,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],l&&"Contract Call:",l].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=t,this.contractAddress=s,this.functionName=o,this.sender=i}}class Dn extends N{constructor({abi:t,data:n,functionName:r,message:s}){let a,o,i,c;if(n&&n!=="0x")try{o=Js({abi:t,data:n});const{abiItem:u,errorName:l,args:p}=o;if(l==="Error")c=p[0];else if(l==="Panic"){const[f]=p;c=Xs[f]}else{const f=u?ct(u,{includeName:!0}):void 0,m=u&&p?da({abiItem:u,args:p,includeFunctionName:!1,includeName:!1}):void 0;i=[f?`Error: ${f}`:"",m&&m!=="()"?`       ${[...Array((l==null?void 0:l.length)??0).keys()].map(()=>" ").join("")}${m}`:""]}}catch(u){a=u}else s&&(c=s);let d;a instanceof Qo&&(d=a.signature,i=[`Unable to decode signature "${d}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${d}.`]),super(c&&c!=="execution reverted"||d?[`The contract function "${r}" reverted with the following ${d?"signature":"reason"}:`,c||d].join(`
`):`The contract function "${r}" reverted.`,{cause:a,metaMessages:i,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=o,this.raw=n,this.reason=c,this.signature=d}}class qi extends N{constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class Oi extends N{constructor({factory:t}){super(`Deployment for counterfactual contract call failed${t?` for factory "${t}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class Xt extends N{constructor({data:t,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}const Li=3;function Re(e,{abi:t,address:n,args:r,docsPath:s,functionName:a,sender:o}){const i=e instanceof Xt?e:e instanceof N?e.walk(m=>"data"in m)||e.walk():{},{code:c,data:d,details:u,message:l,shortMessage:p}=i,f=e instanceof pr?new qi({functionName:a}):[Li,Dt.code].includes(c)&&(d||u||l||p)?new Dn({abi:t,data:typeof d=="object"?d.data:d,functionName:a,message:i instanceof gr?u:p??l}):e;return new zi(f,{abi:t,args:r,contractAddress:n,docsPath:s,functionName:a,sender:o})}function Gi(e){const t=be(`0x${e.substring(4)}`).substring(26);return Qs(`0x${t}`)}async function Di({hash:e,signature:t}){const n=G(e)?e:fe(e),{secp256k1:r}=await mr(async()=>{const{secp256k1:o}=await Promise.resolve().then(()=>Rf);return{secp256k1:o}},void 0);return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){const{r:d,s:u,v:l,yParity:p}=t,f=Number(p??l),m=vs(f);return new r.Signature(D(d),D(u)).addRecoveryBit(m)}const o=G(t)?t:fe(t);if(ut(o)!==65)throw new Error("invalid signature length");const i=Z(`0x${o.slice(130)}`),c=vs(i);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function vs(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function Ye({hash:e,signature:t}){return Gi(await Di({hash:e,signature:t}))}function ji(e){const{chainId:t,nonce:n,to:r}=e,s=e.contractAddress??e.address,a=be(ve(["0x05",Pe([t?$(t):"0x",s,n?$(n):"0x"])]));return r==="bytes"?ce(a):a}async function ga(e){const{authorization:t,signature:n}=e;return Ye({hash:ji(t),signature:n??t})}class Ui extends N{constructor(t,{account:n,docsPath:r,chain:s,data:a,gas:o,gasPrice:i,maxFeePerGas:c,maxPriorityFeePerGas:d,nonce:u,to:l,value:p}){var m;const f=dt({from:n==null?void 0:n.address,to:l,value:typeof p<"u"&&`${xr(p)} ${((m=s==null?void 0:s.nativeCurrency)==null?void 0:m.symbol)||"ETH"}`,data:a,gas:o,gasPrice:typeof i<"u"&&`${te(i)} gwei`,maxFeePerGas:typeof c<"u"&&`${te(c)} gwei`,maxPriorityFeePerGas:typeof d<"u"&&`${te(d)} gwei`,nonce:u});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",f].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class Se extends N{constructor({cause:t,message:n}={}){var s;const r=(s=n==null?void 0:n.replace("execution reverted: ",""))==null?void 0:s.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:t,name:"ExecutionRevertedError"})}}Object.defineProperty(Se,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(Se,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class Fe extends N{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${te(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:t,name:"FeeCapTooHighError"})}}Object.defineProperty(Fe,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class jn extends N{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${te(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:t,name:"FeeCapTooLowError"})}}Object.defineProperty(jn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class Un extends N{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:t,name:"NonceTooHighError"})}}Object.defineProperty(Un,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class Hn extends N{constructor({cause:t,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:t,name:"NonceTooLowError"})}}Object.defineProperty(Hn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class Vn extends N{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:t,name:"NonceMaxValueError"})}}Object.defineProperty(Vn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class Wn extends N{constructor({cause:t}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:t,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(Wn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class Zn extends N{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:t,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(Zn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class Kn extends N{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:t,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(Kn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class Yn extends N{constructor({cause:t}){super("The transaction type is not supported for this chain.",{cause:t,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(Yn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class ot extends N{constructor({cause:t,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${te(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${te(r)} gwei`:""}).`].join(`
`),{cause:t,name:"TipAboveFeeCapError"})}}Object.defineProperty(ot,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class lt extends N{constructor({cause:t}){super(`An error occurred while executing: ${t==null?void 0:t.shortMessage}`,{cause:t,name:"UnknownNodeError"})}}function Qt(e,t){const n=(e.details||"").toLowerCase(),r=e instanceof N?e.walk(s=>(s==null?void 0:s.code)===Se.code):e;return r instanceof N?new Se({cause:e,message:r.details}):Se.nodeMessage.test(n)?new Se({cause:e,message:e.details}):Fe.nodeMessage.test(n)?new Fe({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):jn.nodeMessage.test(n)?new jn({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):Un.nodeMessage.test(n)?new Un({cause:e,nonce:t==null?void 0:t.nonce}):Hn.nodeMessage.test(n)?new Hn({cause:e,nonce:t==null?void 0:t.nonce}):Vn.nodeMessage.test(n)?new Vn({cause:e,nonce:t==null?void 0:t.nonce}):Wn.nodeMessage.test(n)?new Wn({cause:e}):Zn.nodeMessage.test(n)?new Zn({cause:e,gas:t==null?void 0:t.gas}):Kn.nodeMessage.test(n)?new Kn({cause:e,gas:t==null?void 0:t.gas}):Yn.nodeMessage.test(n)?new Yn({cause:e}):ot.nodeMessage.test(n)?new ot({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas,maxPriorityFeePerGas:t==null?void 0:t.maxPriorityFeePerGas}):new lt({cause:e})}function Hi(e,{docsPath:t,...n}){const r=(()=>{const s=Qt(e,n);return s instanceof lt?e:s})();return new Ui(r,{docsPath:t,...n})}function pt(e,{format:t}){if(!t)return{};const n={};function r(a){const o=Object.keys(a);for(const i of o)i in e&&(n[i]=e[i]),a[i]&&typeof a[i]=="object"&&!Array.isArray(a[i])&&r(a[i])}const s=t(e||{});return r(s),n}function Es(e){if(!(!e||e.length===0))return e.reduce((t,{slot:n,value:r})=>{if(n.length!==66)throw new Yr({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new Yr({size:r.length,targetSize:66,type:"hex"});return t[n]=r,t},{})}function Vi(e){const{balance:t,nonce:n,state:r,stateDiff:s,code:a}=e,o={};if(a!==void 0&&(o.code=a),t!==void 0&&(o.balance=$(t)),n!==void 0&&(o.nonce=$(n)),r!==void 0&&(o.state=Es(r)),s!==void 0){if(o.state)throw new Ci;o.stateDiff=Es(s)}return o}function vr(e){if(!e)return;const t={};for(const{address:n,...r}of e){if(!le(n,{strict:!1}))throw new ge({address:n});if(t[n])throw new Bi({address:n});t[n]=Vi(r)}return t}function Oe(e){const{account:t,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:s,to:a}=e,o=t?Y(t):void 0;if(o&&!le(o.address))throw new ge({address:o.address});if(a&&!le(a))throw new ge({address:a});if(typeof n<"u"&&(typeof r<"u"||typeof s<"u"))throw new $i;if(r&&r>Yt)throw new Fe({maxFeePerGas:r});if(s&&r&&s>r)throw new ot({maxFeePerGas:r,maxPriorityFeePerGas:s})}class Wi extends N{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class Er extends N{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class Zi extends N{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${te(t)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class wa extends N{constructor({blockHash:t,blockNumber:n}){let r="Block";t&&(r=`Block at hash "${t}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}async function de(e,{blockHash:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",includeTransactions:s}={}){var d,u,l;const a=s??!1,o=n!==void 0?$(n):void 0;let i=null;if(t?i=await e.request({method:"eth_getBlockByHash",params:[t,a]},{dedupe:!0}):i=await e.request({method:"eth_getBlockByNumber",params:[o||r,a]},{dedupe:!!o}),!i)throw new wa({blockHash:t,blockNumber:n});return(((l=(u=(d=e.chain)==null?void 0:d.formatters)==null?void 0:u.block)==null?void 0:l.format)||ea)(i)}async function Tr(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function Ki(e,t){return xa(e,t)}async function xa(e,t){var a,o;const{block:n,chain:r=e.chain,request:s}=t||{};try{const i=((a=r==null?void 0:r.fees)==null?void 0:a.maxPriorityFeePerGas)??((o=r==null?void 0:r.fees)==null?void 0:o.defaultPriorityFee);if(typeof i=="function"){const d=n||await M(e,de,"getBlock")({}),u=await i({block:d,client:e,request:s});if(u===null)throw new Error;return u}if(typeof i<"u")return i;const c=await e.request({method:"eth_maxPriorityFeePerGas"});return D(c)}catch{const[i,c]=await Promise.all([n?Promise.resolve(n):M(e,de,"getBlock")({}),M(e,Tr,"getGasPrice")({})]);if(typeof i.baseFeePerGas!="bigint")throw new Er;const d=c-i.baseFeePerGas;return d<0n?0n:d}}async function Yi(e,t){return Jn(e,t)}async function Jn(e,t){var p,f;const{block:n,chain:r=e.chain,request:s,type:a="eip1559"}=t||{},o=await(async()=>{var m,h;return typeof((m=r==null?void 0:r.fees)==null?void 0:m.baseFeeMultiplier)=="function"?r.fees.baseFeeMultiplier({block:n,client:e,request:s}):((h=r==null?void 0:r.fees)==null?void 0:h.baseFeeMultiplier)??1.2})();if(o<1)throw new Wi;const c=10**(((p=o.toString().split(".")[1])==null?void 0:p.length)??0),d=m=>m*BigInt(Math.ceil(o*c))/BigInt(c),u=n||await M(e,de,"getBlock")({});if(typeof((f=r==null?void 0:r.fees)==null?void 0:f.estimateFeesPerGas)=="function"){const m=await r.fees.estimateFeesPerGas({block:n,client:e,multiply:d,request:s,type:a});if(m!==null)return m}if(a==="eip1559"){if(typeof u.baseFeePerGas!="bigint")throw new Er;const m=typeof(s==null?void 0:s.maxPriorityFeePerGas)=="bigint"?s.maxPriorityFeePerGas:await xa(e,{block:u,chain:r,request:s}),h=d(u.baseFeePerGas);return{maxFeePerGas:(s==null?void 0:s.maxFeePerGas)??h+m,maxPriorityFeePerGas:m}}return{gasPrice:(s==null?void 0:s.gasPrice)??d(await M(e,Tr,"getGasPrice")({}))}}async function en(e,{address:t,blockTag:n="latest",blockNumber:r}){const s=await e.request({method:"eth_getTransactionCount",params:[t,typeof r=="bigint"?$(r):n]},{dedupe:!!r});return Z(s)}function Pr(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(a=>ce(a)):e.blobs,s=[];for(const a of r)s.push(Uint8Array.from(t.blobToKzgCommitment(a)));return n==="bytes"?s:s.map(a=>ne(a))}function Ir(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(o=>ce(o)):e.blobs,s=typeof e.commitments[0]=="string"?e.commitments.map(o=>ce(o)):e.commitments,a=[];for(let o=0;o<r.length;o++){const i=r[o],c=s[o];a.push(Uint8Array.from(t.computeBlobKzgProof(i,c)))}return n==="bytes"?a:a.map(o=>ne(o))}function va(e){const{commitment:t,version:n=1}=e,r=e.to??(typeof t=="string"?"hex":"bytes"),s=Pi(t,"bytes");return s.set([n],0),r==="bytes"?s:ne(s)}function Ea(e){const{commitments:t,version:n}=e,r=e.to??(typeof t[0]=="string"?"hex":"bytes"),s=[];for(const a of t)s.push(va({commitment:a,to:r,version:n}));return s}const Ts=6,Ta=32,Ar=4096,Pa=Ta*Ar,Ps=Pa*Ts-1-1*Ar*Ts,Ia=1;class Ji extends N{constructor({maxSize:t,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${t} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class Aa extends N{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class Xi extends N{constructor({hash:t,size:n}){super(`Versioned hash "${t}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${n}`],name:"InvalidVersionedHashSizeError"})}}class Qi extends N{constructor({hash:t,version:n}){super(`Versioned hash "${t}" version is invalid.`,{metaMessages:[`Expected: ${Ia}`,`Received: ${n}`],name:"InvalidVersionedHashVersionError"})}}function ec(e){const t=e.to??(typeof e.data=="string"?"hex":"bytes"),n=typeof e.data=="string"?ce(e.data):e.data,r=ut(n);if(!r)throw new Aa;if(r>Ps)throw new Ji({maxSize:Ps,size:r});const s=[];let a=!0,o=0;for(;a;){const i=Mt(new Uint8Array(Pa));let c=0;for(;c<Ar;){const d=n.slice(o,o+(Ta-1));if(i.pushByte(0),i.pushBytes(d),d.length<31){i.pushByte(128),a=!1;break}c++,o+=31}s.push(i)}return t==="bytes"?s.map(i=>i.bytes):s.map(i=>ne(i.bytes))}function Sr(e){const{data:t,kzg:n,to:r}=e,s=e.blobs??ec({data:t,to:r}),a=e.commitments??Pr({blobs:s,kzg:n,to:r}),o=e.proofs??Ir({blobs:s,commitments:a,kzg:n,to:r}),i=[];for(let c=0;c<s.length;c++)i.push({blob:s[c],commitment:a[c],proof:o[c]});return i}function Sa(e){if(e.type)return e.type;if(typeof e.authorizationList<"u")return"eip7702";if(typeof e.blobs<"u"||typeof e.blobVersionedHashes<"u"||typeof e.maxFeePerBlobGas<"u"||typeof e.sidecars<"u")return"eip4844";if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new Ni({transaction:e})}async function Je(e){const t=await e.request({method:"eth_chainId"},{dedupe:!0});return Z(t)}const Ba=["blobVersionedHashes","chainId","fees","gas","nonce","type"],Is=new Map;async function tn(e,t){const{account:n=e.account,blobs:r,chain:s,gas:a,kzg:o,nonce:i,nonceManager:c,parameters:d=Ba,type:u}=t,l=n&&Y(n),p={...t,...l?{from:l==null?void 0:l.address}:{}};let f;async function m(){return f||(f=await M(e,de,"getBlock")({blockTag:"latest"}),f)}let h;async function g(){return h||(s?s.id:typeof t.chainId<"u"?t.chainId:(h=await M(e,Je,"getChainId")({}),h))}if(d.includes("nonce")&&typeof i>"u"&&l)if(c){const y=await g();p.nonce=await c.consume({address:l.address,chainId:y,client:e})}else p.nonce=await M(e,en,"getTransactionCount")({address:l.address,blockTag:"pending"});if((d.includes("blobVersionedHashes")||d.includes("sidecars"))&&r&&o){const y=Pr({blobs:r,kzg:o});if(d.includes("blobVersionedHashes")){const b=Ea({commitments:y,to:"hex"});p.blobVersionedHashes=b}if(d.includes("sidecars")){const b=Ir({blobs:r,commitments:y,kzg:o}),v=Sr({blobs:r,commitments:y,proofs:b,to:"hex"});p.sidecars=v}}if(d.includes("chainId")&&(p.chainId=await g()),(d.includes("fees")||d.includes("type"))&&typeof u>"u")try{p.type=Sa(p)}catch{let y=Is.get(e.uid);if(typeof y>"u"){const b=await m();y=typeof(b==null?void 0:b.baseFeePerGas)=="bigint",Is.set(e.uid,y)}p.type=y?"eip1559":"legacy"}if(d.includes("fees"))if(p.type!=="legacy"&&p.type!=="eip2930"){if(typeof p.maxFeePerGas>"u"||typeof p.maxPriorityFeePerGas>"u"){const y=await m(),{maxFeePerGas:b,maxPriorityFeePerGas:v}=await Jn(e,{block:y,chain:s,request:p});if(typeof t.maxPriorityFeePerGas>"u"&&t.maxFeePerGas&&t.maxFeePerGas<v)throw new Zi({maxPriorityFeePerGas:v});p.maxPriorityFeePerGas=v,p.maxFeePerGas=b}}else{if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")throw new Er;if(typeof t.gasPrice>"u"){const y=await m(),{gasPrice:b}=await Jn(e,{block:y,chain:s,request:p,type:"legacy"});p.gasPrice=b}}return d.includes("gas")&&typeof a>"u"&&(p.gas=await M(e,Br,"estimateGas")({...p,account:l&&{address:l.address,type:"json-rpc"}})),Oe(p),delete p.parameters,p}async function Ca(e,{address:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest"}){const s=typeof n=="bigint"?$(n):void 0,a=await e.request({method:"eth_getBalance",params:[t,s||r]});return BigInt(a)}async function Br(e,t){var s,a,o;const{account:n=e.account}=t,r=n?Y(n):void 0;try{let R=function(_){const{block:z,request:A,rpcStateOverride:O}=_;return e.request({method:"eth_estimateGas",params:O?[A,z??e.experimental_blockTag??"latest",O]:z?[A,z]:[A]})};const{accessList:i,authorizationList:c,blobs:d,blobVersionedHashes:u,blockNumber:l,blockTag:p,data:f,gas:m,gasPrice:h,maxFeePerBlobGas:g,maxFeePerGas:y,maxPriorityFeePerGas:b,nonce:v,value:S,stateOverride:E,...k}=await tn(e,{...t,parameters:(r==null?void 0:r.type)==="local"?void 0:["blobVersionedHashes"]}),I=(typeof l=="bigint"?$(l):void 0)||p,w=vr(E),P=await(async()=>{if(k.to)return k.to;if(c&&c.length>0)return await ga({authorization:c[0]}).catch(()=>{throw new N("`to` is required. Could not infer from `authorizationList`")})})();Oe(t);const x=(o=(a=(s=e.chain)==null?void 0:s.formatters)==null?void 0:a.transactionRequest)==null?void 0:o.format,C=(x||ze)({...pt(k,{format:x}),from:r==null?void 0:r.address,accessList:i,authorizationList:c,blobs:d,blobVersionedHashes:u,data:f,gas:m,gasPrice:h,maxFeePerBlobGas:g,maxFeePerGas:y,maxPriorityFeePerGas:b,nonce:v,to:P,value:S});let F=BigInt(await R({block:I,request:C,rpcStateOverride:w}));if(c){const _=await Ca(e,{address:C.from}),z=await Promise.all(c.map(async A=>{const{address:O}=A,L=await R({block:I,request:{authorizationList:void 0,data:f,from:r==null?void 0:r.address,to:O,value:$(_)},rpcStateOverride:w}).catch(()=>100000n);return 2n*BigInt(L)}));F+=z.reduce((A,O)=>A+O,0n)}return F}catch(i){throw Hi(i,{...t,account:r,chain:e.chain})}}async function ka(e,t){const{abi:n,address:r,args:s,functionName:a,dataSuffix:o,...i}=t,c=ie({abi:n,args:s,functionName:a});try{return await M(e,Br,"estimateGas")({data:`${c}${o?o.replace("0x",""):""}`,to:r,...i})}catch(d){const u=i.account?Y(i.account):void 0;throw Re(d,{abi:n,address:r,args:s,docsPath:"/docs/contract/estimateContractGas",functionName:a,sender:u==null?void 0:u.address})}}async function Cr(e,{address:t,blockHash:n,fromBlock:r,toBlock:s,event:a,events:o,args:i,strict:c}={}){const d=c??!1,u=o??(a?[a]:void 0);let l=[];u&&(l=[u.flatMap(h=>it({abi:[h],eventName:h.name,args:o?void 0:i}))],a&&(l=l[0]));let p;n?p=await e.request({method:"eth_getLogs",params:[{address:t,topics:l,blockHash:n}]}):p=await e.request({method:"eth_getLogs",params:[{address:t,topics:l,fromBlock:typeof r=="bigint"?$(r):r,toBlock:typeof s=="bigint"?$(s):s}]});const f=p.map(m=>Te(m));return u?hr({abi:u,args:i,logs:f,strict:d}):f}async function kr(e,t){const{abi:n,address:r,args:s,blockHash:a,eventName:o,fromBlock:i,toBlock:c,strict:d}=t,u=o?Ze({abi:n,name:o}):void 0,l=u?void 0:n.filter(p=>p.type==="event");return M(e,Cr,"getLogs")({address:r,args:s,blockHash:a,event:u,events:l,fromBlock:i,toBlock:c,strict:d})}const xn="/docs/contract/decodeFunctionResult";function Le(e){const{abi:t,args:n,functionName:r,data:s}=e;let a=t[0];if(r){const i=Ze({abi:t,args:n,name:r});if(!i)throw new Ve(r,{docsPath:xn});a=i}if(a.type!=="function")throw new Ve(void 0,{docsPath:xn});if(!a.outputs)throw new ta(a.name,{docsPath:xn});const o=Kt(a.outputs,s);if(o&&o.length>1)return o;if(o&&o.length===1)return o[0]}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const $r=BigInt(0),Xn=BigInt(1);function Ht(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function vt(e){const t=e.toString(16);return t.length&1?"0"+t:t}function $a(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?$r:BigInt("0x"+e)}function nn(e){return $a(at(e))}function Na(e){return zt(e),$a(at(Uint8Array.from(e).reverse()))}function Nr(e,t){return yr(e.toString(16).padStart(t*2,"0"))}function Ra(e,t){return Nr(e,t).reverse()}function se(e,t,n){let r;if(typeof t=="string")try{r=yr(t)}catch(a){throw new Error(e+" must be hex string or Uint8Array, cause: "+a)}else if(na(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(e+" of length "+n+" expected, got "+s);return r}const vn=e=>typeof e=="bigint"&&$r<=e;function tc(e,t,n){return vn(e)&&vn(t)&&vn(n)&&t<=e&&e<n}function nc(e,t,n,r){if(!tc(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function rc(e){let t;for(t=0;e>$r;e>>=Xn,t+=1);return t}const rn=e=>(Xn<<BigInt(e))-Xn;function sc(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=f=>new Uint8Array(f),s=f=>Uint8Array.of(f);let a=r(e),o=r(e),i=0;const c=()=>{a.fill(1),o.fill(0),i=0},d=(...f)=>n(o,a,...f),u=(f=r(0))=>{o=d(s(0),f),a=d(),f.length!==0&&(o=d(s(1),f),a=d())},l=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const m=[];for(;f<t;){a=d();const h=a.slice();m.push(h),f+=a.length}return Ae(...m)};return(f,m)=>{c(),u(f);let h;for(;!(h=m(l()));)u();return c(),h}}function Rr(e,t,n={}){if(!e||typeof e!="object")throw new Error("expected valid options object");function r(s,a,o){const i=e[s];if(o&&i===void 0)return;const c=typeof i;if(c!==a||i===null)throw new Error(`param "${s}" is invalid: expected ${a}, got ${c}`)}Object.entries(t).forEach(([s,a])=>r(s,a,!1)),Object.entries(n).forEach(([s,a])=>r(s,a,!0))}function As(e){const t=new WeakMap;return(n,...r)=>{const s=t.get(n);if(s!==void 0)return s;const a=e(n,...r);return t.set(n,a),a}}const ac="0.1.1";function oc(){return ac}class V extends Error{constructor(t,n={}){const r=(()=>{var c;if(n.cause instanceof V){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),s=n.cause instanceof V&&n.cause.docsPath||n.docsPath,o=`https://oxlib.sh${s??""}`,i=[t||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||s?["",r?`Details: ${r}`:void 0,s?`See: ${o}`:void 0]:[]].filter(c=>typeof c=="string").join(`
`);super(i,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${oc()}`}),this.cause=n.cause,this.details=r,this.docs=o,this.docsPath=s,this.shortMessage=t}walk(t){return Fa(this,t)}}function Fa(e,t){return t!=null&&t(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause?Fa(e.cause,t):t?null:e}const ic="#__bigint";function cc(e,t,n){return JSON.stringify(e,(r,s)=>typeof s=="bigint"?s.toString()+ic:s,n)}function uc(e,t){if(Bs(e)>t)throw new wc({givenSize:Bs(e),maxSize:t})}const he={zero:48,nine:57,A:65,F:70,a:97,f:102};function Ss(e){if(e>=he.zero&&e<=he.nine)return e-he.zero;if(e>=he.A&&e<=he.F)return e-(he.A-10);if(e>=he.a&&e<=he.f)return e-(he.a-10)}function dc(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;if(e.length>r)throw new xc({size:e.length,targetSize:r,type:"Bytes"});const s=new Uint8Array(r);for(let a=0;a<r;a++){const o=n==="right";s[o?a:r-a-1]=e[o?a:e.length-a-1]}return s}function Fr(e,t){if(oe(e)>t)throw new Ic({givenSize:oe(e),maxSize:t})}function fc(e,t){if(typeof t=="number"&&t>0&&t>oe(e)-1)throw new Oa({offset:t,position:"start",size:oe(e)})}function lc(e,t,n){if(typeof t=="number"&&typeof n=="number"&&oe(e)!==n-t)throw new Oa({offset:n,position:"end",size:oe(e)})}function _a(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;const s=e.replace("0x","");if(s.length>r*2)throw new Ac({size:Math.ceil(s.length/2),targetSize:r,type:"Hex"});return`0x${s[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const pc=new TextEncoder;function mc(e){return e instanceof Uint8Array?e:typeof e=="string"?yc(e):hc(e)}function hc(e){return e instanceof Uint8Array?e:new Uint8Array(e)}function yc(e,t={}){const{size:n}=t;let r=e;n&&(Fr(e,n),r=Me(e,n));let s=r.slice(2);s.length%2&&(s=`0${s}`);const a=s.length/2,o=new Uint8Array(a);for(let i=0,c=0;i<a;i++){const d=Ss(s.charCodeAt(c++)),u=Ss(s.charCodeAt(c++));if(d===void 0||u===void 0)throw new V(`Invalid byte sequence ("${s[c-2]}${s[c-1]}" in "${s}").`);o[i]=d*16+u}return o}function bc(e,t={}){const{size:n}=t,r=pc.encode(e);return typeof n=="number"?(uc(r,n),gc(r,n)):r}function gc(e,t){return dc(e,{dir:"right",size:t})}function Bs(e){return e.length}let wc=class extends V{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},xc=class extends V{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const vc=new TextEncoder,Ec=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Tc(e,t={}){const{strict:n=!1}=t;if(!e)throw new Cs(e);if(typeof e!="string")throw new Cs(e);if(n&&!/^0x[0-9a-fA-F]*$/.test(e))throw new ks(e);if(!e.startsWith("0x"))throw new ks(e)}function pe(...e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function Ma(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(Fr(n,t.size),_e(n,t.size)):n}function za(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=Ec[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(Fr(r,t.size),Me(r,t.size)):r}function X(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let a;r?n?a=(1n<<BigInt(r)*8n-1n)-1n:a=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(a=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof a=="bigint"&&n?-a-1n:0;if(a&&s>a||s<o){const d=typeof e=="bigint"?"n":"";throw new qa({max:a?`${a}${d}`:void 0,min:`${o}${d}`,signed:n,size:r,value:`${e}${d}`})}const c=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?_e(c,r):c}function _r(e,t={}){return za(vc.encode(e),t)}function _e(e,t){return _a(e,{dir:"left",size:t})}function Me(e,t){return _a(e,{dir:"right",size:t})}function Mr(e,t,n,r={}){const{strict:s}=r;fc(e,t);const a=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return s&&lc(a,t,n),a}function oe(e){return Math.ceil((e.length-2)/2)}function Pc(e,t={}){const{strict:n=!1}=t;try{return Tc(e,{strict:n}),!0}catch{return!1}}class qa extends V{constructor({max:t,min:n,signed:r,size:s,value:a}){super(`Number \`${a}\` is not in safe${s?` ${s*8}-bit`:""}${r?" signed":" unsigned"} integer range ${t?`(\`${n}\` to \`${t}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class Cs extends V{constructor(t){super(`Value \`${typeof t=="object"?cc(t):t}\` of type \`${typeof t}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class ks extends V{constructor(t){super(`Value \`${t}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class Ic extends V{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class Oa extends V{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${t}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class Ac extends V{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function Sc(e){return{address:e.address,amount:X(e.amount),index:X(e.index),validatorIndex:X(e.validatorIndex)}}function La(e){return{...typeof e.baseFeePerGas=="bigint"&&{baseFeePerGas:X(e.baseFeePerGas)},...typeof e.blobBaseFee=="bigint"&&{blobBaseFee:X(e.blobBaseFee)},...typeof e.feeRecipient=="string"&&{feeRecipient:e.feeRecipient},...typeof e.gasLimit=="bigint"&&{gasLimit:X(e.gasLimit)},...typeof e.number=="bigint"&&{number:X(e.number)},...typeof e.prevRandao=="bigint"&&{prevRandao:X(e.prevRandao)},...typeof e.time=="bigint"&&{time:X(e.time)},...e.withdrawals&&{withdrawals:e.withdrawals.map(Sc)}}}const Qn=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],er=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],Ga=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"},{inputs:[],name:"ResolverNotContract",type:"error"},{inputs:[{name:"returnData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{components:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"errors",type:"tuple[]"}],name:"HttpError",type:"error"}],Da=[...Ga,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]},{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],Bc=[...Ga,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]},{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],$s=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],Ns=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],Rs=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],Kl=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],Yl=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"bytes32"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"bytes32"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],Jl=[{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"balance",type:"uint256"},{internalType:"uint256",name:"needed",type:"uint256"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ERC1155InsufficientBalance",type:"error"},{inputs:[{internalType:"address",name:"approver",type:"address"}],name:"ERC1155InvalidApprover",type:"error"},{inputs:[{internalType:"uint256",name:"idsLength",type:"uint256"},{internalType:"uint256",name:"valuesLength",type:"uint256"}],name:"ERC1155InvalidArrayLength",type:"error"},{inputs:[{internalType:"address",name:"operator",type:"address"}],name:"ERC1155InvalidOperator",type:"error"},{inputs:[{internalType:"address",name:"receiver",type:"address"}],name:"ERC1155InvalidReceiver",type:"error"},{inputs:[{internalType:"address",name:"sender",type:"address"}],name:"ERC1155InvalidSender",type:"error"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"address",name:"owner",type:"address"}],name:"ERC1155MissingApprovalForAll",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256[]",name:"ids",type:"uint256[]"},{indexed:!1,internalType:"uint256[]",name:"values",type:"uint256[]"}],name:"TransferBatch",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"id",type:"uint256"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"TransferSingle",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"value",type:"string"},{indexed:!0,internalType:"uint256",name:"id",type:"uint256"}],name:"URI",type:"event"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"id",type:"uint256"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"accounts",type:"address[]"},{internalType:"uint256[]",name:"ids",type:"uint256[]"}],name:"balanceOfBatch",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"ids",type:"uint256[]"},{internalType:"uint256[]",name:"values",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeBatchTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"uri",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],Xl=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!0,name:"tokenId",type:"uint256"}]},{type:"event",name:"ApprovalForAll",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"operator",type:"address"},{indexed:!1,name:"approved",type:"bool"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!0,name:"tokenId",type:"uint256"}]},{type:"function",name:"approve",stateMutability:"payable",inputs:[{name:"spender",type:"address"},{name:"tokenId",type:"uint256"}],outputs:[]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"getApproved",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{type:"address"}]},{type:"function",name:"isApprovedForAll",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"operator",type:"address"}],outputs:[{type:"bool"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"ownerOf",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"owner",type:"address"}]},{type:"function",name:"safeTransferFrom",stateMutability:"payable",inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"tokenId",type:"uint256"}],outputs:[]},{type:"function",name:"safeTransferFrom",stateMutability:"nonpayable",inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"id",type:"uint256"},{name:"data",type:"bytes"}],outputs:[]},{type:"function",name:"setApprovalForAll",stateMutability:"nonpayable",inputs:[{name:"operator",type:"address"},{name:"approved",type:"bool"}],outputs:[]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"tokenByIndex",stateMutability:"view",inputs:[{name:"index",type:"uint256"}],outputs:[{type:"uint256"}]},{type:"function",name:"tokenByIndex",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"index",type:"uint256"}],outputs:[{name:"tokenId",type:"uint256"}]},{type:"function",name:"tokenURI",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transferFrom",stateMutability:"payable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"tokenId",type:"uint256"}],outputs:[]}],Ql=[{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"sender",type:"address"},{indexed:!0,name:"receiver",type:"address"},{indexed:!1,name:"assets",type:"uint256"},{indexed:!1,name:"shares",type:"uint256"}],name:"Deposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"sender",type:"address"},{indexed:!0,name:"receiver",type:"address"},{indexed:!0,name:"owner",type:"address"},{indexed:!1,name:"assets",type:"uint256"},{indexed:!1,name:"shares",type:"uint256"}],name:"Withdraw",type:"event"},{inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],name:"allowance",outputs:[{type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],name:"approve",outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"asset",outputs:[{name:"assetTokenAddress",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"account",type:"address"}],name:"balanceOf",outputs:[{type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"}],name:"convertToAssets",outputs:[{name:"assets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"assets",type:"uint256"}],name:"convertToShares",outputs:[{name:"shares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"assets",type:"uint256"},{name:"receiver",type:"address"}],name:"deposit",outputs:[{name:"shares",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"caller",type:"address"}],name:"maxDeposit",outputs:[{name:"maxAssets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"caller",type:"address"}],name:"maxMint",outputs:[{name:"maxShares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"owner",type:"address"}],name:"maxRedeem",outputs:[{name:"maxShares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"owner",type:"address"}],name:"maxWithdraw",outputs:[{name:"maxAssets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"},{name:"receiver",type:"address"}],name:"mint",outputs:[{name:"assets",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"assets",type:"uint256"}],name:"previewDeposit",outputs:[{name:"shares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"}],name:"previewMint",outputs:[{name:"assets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"}],name:"previewRedeem",outputs:[{name:"assets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"assets",type:"uint256"}],name:"previewWithdraw",outputs:[{name:"shares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"},{name:"receiver",type:"address"},{name:"owner",type:"address"}],name:"redeem",outputs:[{name:"assets",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"totalAssets",outputs:[{name:"totalManagedAssets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"to",type:"address"},{name:"amount",type:"uint256"}],name:"transfer",outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"assets",type:"uint256"},{name:"receiver",type:"address"},{name:"owner",type:"address"}],name:"withdraw",outputs:[{name:"shares",type:"uint256"}],stateMutability:"nonpayable",type:"function"}],Cc="0x82ad56cb",ja="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",kc="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",$c="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572";class tr extends N{constructor({blockNumber:t,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...t&&r.blockCreated&&r.blockCreated>t?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${t}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class Nc extends N{constructor({chain:t,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${t.id}  ${t.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${t.id}  ${t.name}`],name:"ChainMismatchError"})}}class Rc extends N{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class Ua extends N{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}class sn extends N{constructor({chainId:t}){super(typeof t=="number"?`Chain ID "${t}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}const En="/docs/contract/encodeDeployData";function an(e){const{abi:t,args:n,bytecode:r}=e;if(!n||n.length===0)return r;const s=t.find(o=>"type"in o&&o.type==="constructor");if(!s)throw new ra({docsPath:En});if(!("inputs"in s))throw new qt({docsPath:En});if(!s.inputs||s.inputs.length===0)throw new qt({docsPath:En});const a=Ke(s.inputs,n);return ve([r,a])}function Xe({blockNumber:e,chain:t,contract:n}){var s;const r=(s=t==null?void 0:t.contracts)==null?void 0:s[n];if(!r)throw new tr({chain:t,contract:{name:n}});if(e&&r.blockCreated&&r.blockCreated>e)throw new tr({blockNumber:e,chain:t,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function Ha(e,{docsPath:t,...n}){const r=(()=>{const s=Qt(e,n);return s instanceof lt?e:s})();return new ba(r,{docsPath:t,...n})}function zr(){let e=()=>{},t=()=>{};return{promise:new Promise((r,s)=>{e=r,t=s}),resolve:e,reject:t}}const Tn=new Map;function qr({fn:e,id:t,shouldSplitBatch:n,wait:r=0,sort:s}){const a=async()=>{const u=c();o();const l=u.map(({args:p})=>p);l.length!==0&&e(l).then(p=>{s&&Array.isArray(p)&&p.sort(s);for(let f=0;f<u.length;f++){const{resolve:m}=u[f];m==null||m([p[f],p])}}).catch(p=>{for(let f=0;f<u.length;f++){const{reject:m}=u[f];m==null||m(p)}})},o=()=>Tn.delete(t),i=()=>c().map(({args:u})=>u),c=()=>Tn.get(t)||[],d=u=>Tn.set(t,[...c(),u]);return{flush:o,async schedule(u){const{promise:l,resolve:p,reject:f}=zr();return(n==null?void 0:n([...i(),u]))&&a(),c().length>0?(d({args:u,resolve:p,reject:f}),l):(d({args:u,resolve:p,reject:f}),setTimeout(a,r),l)}}}async function mt(e,t){var C,R,F,_;const{account:n=e.account,authorizationList:r,batch:s=!!((C=e.batch)!=null&&C.multicall),blockNumber:a,blockTag:o=e.experimental_blockTag??"latest",accessList:i,blobs:c,blockOverrides:d,code:u,data:l,factory:p,factoryData:f,gas:m,gasPrice:h,maxFeePerBlobGas:g,maxFeePerGas:y,maxPriorityFeePerGas:b,nonce:v,to:S,value:E,stateOverride:k,...B}=t,I=n?Y(n):void 0;if(u&&(p||f))throw new N("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(u&&S)throw new N("Cannot provide both `code` & `to` as parameters.");const w=u&&l,P=p&&f&&S&&l,x=w||P,T=w?Mc({code:u,data:l}):P?zc({data:l,factory:p,factoryData:f,to:S}):l;try{Oe(t);const A=(typeof a=="bigint"?$(a):void 0)||o,O=d?La(d):void 0,L=vr(k),q=(_=(F=(R=e.chain)==null?void 0:R.formatters)==null?void 0:F.transactionRequest)==null?void 0:_.format,U=(q||ze)({...pt(B,{format:q}),from:I==null?void 0:I.address,accessList:i,authorizationList:r,blobs:c,data:T,gas:m,gasPrice:h,maxFeePerBlobGas:g,maxFeePerGas:y,maxPriorityFeePerGas:b,nonce:v,to:x?void 0:S,value:E});if(s&&Fc({request:U})&&!L&&!O)try{return await _c(e,{...U,blockNumber:a,blockTag:o})}catch(H){if(!(H instanceof Ua)&&!(H instanceof tr))throw H}const K=(()=>{const H=[U,A];return L&&O?[...H,L,O]:L?[...H,L]:O?[...H,{},O]:H})(),j=await e.request({method:"eth_call",params:K});return j==="0x"?{data:void 0}:{data:j}}catch(z){const A=qc(z),{offchainLookup:O,offchainLookupSignature:L}=await mr(async()=>{const{offchainLookup:q,offchainLookupSignature:W}=await Promise.resolve().then(()=>Mu);return{offchainLookup:q,offchainLookupSignature:W}},void 0);if(e.ccipRead!==!1&&(A==null?void 0:A.slice(0,10))===L&&S)return{data:await O(e,{data:A,to:S})};throw x&&(A==null?void 0:A.slice(0,10))==="0x101bb98d"?new Oi({factory:p}):Ha(z,{...t,account:I,chain:e.chain})}}function Fc({request:e}){const{data:t,to:n,...r}=e;return!(!t||t.startsWith(Cc)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function _c(e,t){var h;const{batchSize:n=1024,wait:r=0}=typeof((h=e.batch)==null?void 0:h.multicall)=="object"?e.batch.multicall:{},{blockNumber:s,blockTag:a=e.experimental_blockTag??"latest",data:o,multicallAddress:i,to:c}=t;let d=i;if(!d){if(!e.chain)throw new Ua;d=Xe({blockNumber:s,chain:e.chain,contract:"multicall3"})}const l=(typeof s=="bigint"?$(s):void 0)||a,{schedule:p}=qr({id:`${e.uid}.${l}`,wait:r,shouldSplitBatch(g){return g.reduce((b,{data:v})=>b+(v.length-2),0)>n*2},fn:async g=>{const y=g.map(S=>({allowFailure:!0,callData:S.data,target:S.to})),b=ie({abi:Qn,args:[y],functionName:"aggregate3"}),v=await e.request({method:"eth_call",params:[{data:b,to:d},l]});return Le({abi:Qn,args:[y],functionName:"aggregate3",data:v||"0x"})}}),[{returnData:f,success:m}]=await p({data:o,to:c});if(!m)throw new Xt({data:f});return f==="0x"?{data:void 0}:{data:f}}function Mc(e){const{code:t,data:n}=e;return an({abi:sa(["constructor(bytes, bytes)"]),bytecode:ja,args:[t,n]})}function zc(e){const{data:t,factory:n,factoryData:r,to:s}=e;return an({abi:sa(["constructor(address, bytes, address, bytes)"]),bytecode:kc,args:[s,t,n,r]})}function qc(e){var n;if(!(e instanceof N))return;const t=e.walk();return typeof(t==null?void 0:t.data)=="object"?(n=t.data)==null?void 0:n.data:t.data}async function me(e,t){const{abi:n,address:r,args:s,functionName:a,...o}=t,i=ie({abi:n,args:s,functionName:a});try{const{data:c}=await M(e,mt,"call")({...o,data:i,to:r});return Le({abi:n,args:s,functionName:a,data:c||"0x"})}catch(c){throw Re(c,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:a})}}async function Va(e,t){const{abi:n,address:r,args:s,dataSuffix:a,functionName:o,...i}=t,c=i.account?Y(i.account):e.account,d=ie({abi:n,args:s,functionName:o});try{const{data:u}=await M(e,mt,"call")({batch:!1,data:`${d}${a?a.replace("0x",""):""}`,to:r,...i,account:c}),l=Le({abi:n,args:s,functionName:o,data:u||"0x"}),p=n.filter(f=>"name"in f&&f.name===t.functionName);return{result:l,request:{abi:p,address:r,args:s,dataSuffix:a,functionName:o,...i,account:c}}}catch(u){throw Re(u,{abi:n,address:r,args:s,docsPath:"/docs/contract/simulateContract",functionName:o,sender:c==null?void 0:c.address})}}const Pn=new Map,Fs=new Map;let Oc=0;function xe(e,t,n){const r=++Oc,s=()=>Pn.get(e)||[],a=()=>{const u=s();Pn.set(e,u.filter(l=>l.id!==r))},o=()=>{const u=s();if(!u.some(p=>p.id===r))return;const l=Fs.get(e);if(u.length===1&&l){const p=l();p instanceof Promise&&p.catch(()=>{})}a()},i=s();if(Pn.set(e,[...i,{id:r,fns:t}]),i&&i.length>0)return o;const c={};for(const u in t)c[u]=(...l)=>{var f,m;const p=s();if(p.length!==0)for(const h of p)(m=(f=h.fns)[u])==null||m.call(f,...l)};const d=n(c);return typeof d=="function"&&Fs.set(e,d),o}async function Vt(e){return new Promise(t=>setTimeout(t,e))}function Qe(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let s=!0;const a=()=>s=!1;return(async()=>{let i;t&&(i=await e({unpoll:a}));const c=await(n==null?void 0:n(i))??r;await Vt(c);const d=async()=>{s&&(await e({unpoll:a}),await Vt(r),d())};d()})(),a}const Lc=new Map,Gc=new Map;function Dc(e){const t=(s,a)=>({clear:()=>a.delete(s),get:()=>a.get(s),set:o=>a.set(s,o)}),n=t(e,Lc),r=t(e,Gc);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function jc(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){const r=Dc(t),s=r.response.get();if(s&&n>0&&new Date().getTime()-s.created.getTime()<n)return s.data;let a=r.promise.get();a||(a=e(),r.promise.set(a));try{const o=await a;return r.response.set({created:new Date,data:o}),o}finally{r.promise.clear()}}const Uc=e=>`blockNumber.${e}`;async function ht(e,{cacheTime:t=e.cacheTime}={}){const n=await jc(()=>e.request({method:"eth_blockNumber"}),{cacheKey:Uc(e.uid),cacheTime:t});return BigInt(n)}async function on(e,{filter:t}){const n="strict"in t&&t.strict,r=await t.request({method:"eth_getFilterChanges",params:[t.id]});if(typeof r[0]=="string")return r;const s=r.map(a=>Te(a));return!("abi"in t)||!t.abi?s:hr({abi:t.abi,logs:s,strict:n})}async function cn(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}function Wa(e,t){const{abi:n,address:r,args:s,batch:a=!0,eventName:o,fromBlock:i,onError:c,onLogs:d,poll:u,pollingInterval:l=e.pollingInterval,strict:p}=t;return(typeof u<"u"?u:typeof i=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")))?(()=>{const g=p??!1,y=J(["watchContractEvent",r,s,a,e.uid,o,l,g,i]);return xe(y,{onLogs:d,onError:c},b=>{let v;i!==void 0&&(v=i-1n);let S,E=!1;const k=Qe(async()=>{var B;if(!E){try{S=await M(e,wr,"createContractEventFilter")({abi:n,address:r,args:s,eventName:o,strict:g,fromBlock:i})}catch{}E=!0;return}try{let I;if(S)I=await M(e,on,"getFilterChanges")({filter:S});else{const w=await M(e,ht,"getBlockNumber")({});v&&v<w?I=await M(e,kr,"getContractEvents")({abi:n,address:r,args:s,eventName:o,fromBlock:v+1n,toBlock:w,strict:g}):I=[],v=w}if(I.length===0)return;if(a)b.onLogs(I);else for(const w of I)b.onLogs([w])}catch(I){S&&I instanceof jt&&(E=!1),(B=b.onError)==null||B.call(b,I)}},{emitOnBegin:!0,interval:l});return async()=>{S&&await M(e,cn,"uninstallFilter")({filter:S}),k()}})})():(()=>{const g=p??!1,y=J(["watchContractEvent",r,s,a,e.uid,o,l,g]);let b=!0,v=()=>b=!1;return xe(y,{onLogs:d,onError:c},S=>((async()=>{try{const E=(()=>{if(e.transport.type==="fallback"){const I=e.transport.transports.find(w=>w.config.type==="webSocket"||w.config.type==="ipc");return I?I.value:e.transport}return e.transport})(),k=o?it({abi:n,eventName:o,args:s}):[],{unsubscribe:B}=await E.subscribe({params:["logs",{address:r,topics:k}],onData(I){var P;if(!b)return;const w=I.result;try{const{eventName:x,args:T}=aa({abi:n,data:w.data,topics:w.topics,strict:p}),C=Te(w,{args:T,eventName:x});S.onLogs([C])}catch(x){let T,C;if(x instanceof oa||x instanceof ia){if(p)return;T=x.abiItem.name,C=(P=x.abiItem.inputs)==null?void 0:P.some(F=>!("name"in F&&F.name))}const R=Te(w,{args:C?[]:{},eventName:T});S.onLogs([R])}},onError(I){var w;(w=S.onError)==null||w.call(S,I)}});v=B,b||v()}catch(E){c==null||c(E)}})(),()=>v()))})()}class Ge extends N{constructor({docsPath:t}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:t,docsSlug:"account",name:"AccountNotFoundError"})}}class kt extends N{constructor({docsPath:t,metaMessages:n,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:t,metaMessages:n,name:"AccountTypeNotSupportedError"})}}function Za({chain:e,currentChainId:t}){if(!e)throw new Rc;if(t!==e.id)throw new Nc({chain:e,currentChainId:t})}function Ka(e,{docsPath:t,...n}){const r=(()=>{const s=Qt(e,n);return s instanceof lt?e:s})();return new _i(r,{docsPath:t,...n})}async function Or(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}const In=new br(128);async function un(e,t){var b,v,S,E;const{account:n=e.account,chain:r=e.chain,accessList:s,authorizationList:a,blobs:o,data:i,gas:c,gasPrice:d,maxFeePerBlobGas:u,maxFeePerGas:l,maxPriorityFeePerGas:p,nonce:f,type:m,value:h,...g}=t;if(typeof n>"u")throw new Ge({docsPath:"/docs/actions/wallet/sendTransaction"});const y=n?Y(n):null;try{Oe(t);const k=await(async()=>{if(t.to)return t.to;if(t.to!==null&&a&&a.length>0)return await ga({authorization:a[0]}).catch(()=>{throw new N("`to` is required. Could not infer from `authorizationList`.")})})();if((y==null?void 0:y.type)==="json-rpc"||y===null){let B;r!==null&&(B=await M(e,Je,"getChainId")({}),Za({currentChainId:B,chain:r}));const I=(S=(v=(b=e.chain)==null?void 0:b.formatters)==null?void 0:v.transactionRequest)==null?void 0:S.format,P=(I||ze)({...pt(g,{format:I}),accessList:s,authorizationList:a,blobs:o,chainId:B,data:i,from:y==null?void 0:y.address,gas:c,gasPrice:d,maxFeePerBlobGas:u,maxFeePerGas:l,maxPriorityFeePerGas:p,nonce:f,to:k,type:m,value:h}),x=In.get(e.uid),T=x?"wallet_sendTransaction":"eth_sendTransaction";try{return await e.request({method:T,params:[P]},{retryCount:0})}catch(C){if(x===!1)throw C;const R=C;if(R.name==="InvalidInputRpcError"||R.name==="InvalidParamsRpcError"||R.name==="MethodNotFoundRpcError"||R.name==="MethodNotSupportedRpcError")return await e.request({method:"wallet_sendTransaction",params:[P]},{retryCount:0}).then(F=>(In.set(e.uid,!0),F)).catch(F=>{const _=F;throw _.name==="MethodNotFoundRpcError"||_.name==="MethodNotSupportedRpcError"?(In.set(e.uid,!1),R):_});throw R}}if((y==null?void 0:y.type)==="local"){const B=await M(e,tn,"prepareTransactionRequest")({account:y,accessList:s,authorizationList:a,blobs:o,chain:r,data:i,gas:c,gasPrice:d,maxFeePerBlobGas:u,maxFeePerGas:l,maxPriorityFeePerGas:p,nonce:f,nonceManager:y.nonceManager,parameters:[...Ba,"sidecars"],type:m,value:h,...g,to:k}),I=(E=r==null?void 0:r.serializers)==null?void 0:E.transaction,w=await y.signTransaction(B,{serializer:I});return await M(e,Or,"sendRawTransaction")({serializedTransaction:w})}throw(y==null?void 0:y.type)==="smart"?new kt({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new kt({docsPath:"/docs/actions/wallet/sendTransaction",type:y==null?void 0:y.type})}catch(k){throw k instanceof kt?k:Ka(k,{...t,account:y,chain:t.chain||void 0})}}async function Ya(e,t){const{abi:n,account:r=e.account,address:s,args:a,dataSuffix:o,functionName:i,...c}=t;if(typeof r>"u")throw new Ge({docsPath:"/docs/contract/writeContract"});const d=r?Y(r):null,u=ie({abi:n,args:a,functionName:i});try{return await M(e,un,"sendTransaction")({data:`${u}${o?o.replace("0x",""):""}`,to:s,account:d,...c})}catch(l){throw Re(l,{abi:n,address:s,args:a,docsPath:"/docs/contract/writeContract",functionName:i,sender:d==null?void 0:d.address})}}function e0({abi:e,address:t,client:n}){const r=n,[s,a]=r?"public"in r&&"wallet"in r?[r.public,r.wallet]:"public"in r?[r.public,void 0]:"wallet"in r?[void 0,r.wallet]:[r,r]:[void 0,void 0],o=s!=null,i=a!=null,c={};let d=!1,u=!1,l=!1;for(const p of e)if(p.type==="function"?p.stateMutability==="view"||p.stateMutability==="pure"?d=!0:u=!0:p.type==="event"&&(l=!0),d&&u&&l)break;return o&&(d&&(c.read=new Proxy({},{get(p,f){return(...m)=>{const{args:h,options:g}=Et(m);return M(s,me,"readContract")({abi:e,address:t,functionName:f,args:h,...g})}}})),u&&(c.simulate=new Proxy({},{get(p,f){return(...m)=>{const{args:h,options:g}=Et(m);return M(s,Va,"simulateContract")({abi:e,address:t,functionName:f,args:h,...g})}}})),l&&(c.createEventFilter=new Proxy({},{get(p,f){return(...m)=>{const h=e.find(b=>b.type==="event"&&b.name===f),{args:g,options:y}=An(m,h);return M(s,wr,"createContractEventFilter")({abi:e,address:t,eventName:f,args:g,...y})}}}),c.getEvents=new Proxy({},{get(p,f){return(...m)=>{const h=e.find(b=>b.type==="event"&&b.name===f),{args:g,options:y}=An(m,h);return M(s,kr,"getContractEvents")({abi:e,address:t,eventName:f,args:g,...y})}}}),c.watchEvent=new Proxy({},{get(p,f){return(...m)=>{const h=e.find(b=>b.type==="event"&&b.name===f),{args:g,options:y}=An(m,h);return M(s,Wa,"watchContractEvent")({abi:e,address:t,eventName:f,args:g,...y})}}}))),i&&u&&(c.write=new Proxy({},{get(p,f){return(...m)=>{const{args:h,options:g}=Et(m);return M(a,Ya,"writeContract")({abi:e,address:t,functionName:f,args:h,...g})}}})),(o||i)&&u&&(c.estimateGas=new Proxy({},{get(p,f){return(...m)=>{const{args:h,options:g}=Et(m);return M(s??a,ka,"estimateContractGas")({abi:e,address:t,functionName:f,args:h,...g,account:g.account??a.account})}}})),c.address=t,c.abi=e,c}function Et(e){const t=e.length&&Array.isArray(e[0]),n=t?e[0]:[],r=(t?e[1]:e[0])??{};return{args:n,options:r}}function An(e,t){let n=!1;Array.isArray(e[0])?n=!0:e.length===1?n=t.inputs.some(a=>a.indexed):e.length===2&&(n=!0);const r=n?e[0]:void 0,s=(n?e[1]:e[0])??{};return{args:r,options:s}}class Hc extends N{constructor(t){super(`Call bundle failed with status: ${t.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=t}}function Wt(e,{delay:t=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((s,a)=>{const o=async({count:i=0}={})=>{const c=async({error:d})=>{const u=typeof t=="function"?t({count:i,error:d}):t;u&&await Vt(u),o({count:i+1})};try{const d=await e();s(d)}catch(d){if(i<n&&await r({count:i,error:d}))return c({error:d});a(d)}};o()})}const Ja="0x5792579257925792579257925792579257925792579257925792579257925792",Xa=$(0,{size:32});async function Vc(e,t){const{account:n=e.account,capabilities:r,chain:s=e.chain,experimental_fallback:a,experimental_fallbackDelay:o=32,forceAtomic:i=!1,id:c,version:d="2.0.0"}=t,u=n?Y(n):null,l=t.calls.map(p=>{const f=p,m=f.abi?ie({abi:f.abi,functionName:f.functionName,args:f.args}):f.data;return{data:f.dataSuffix&&m?$e([m,f.dataSuffix]):m,to:f.to,value:f.value?$(f.value):void 0}});try{const p=await e.request({method:"wallet_sendCalls",params:[{atomicRequired:i,calls:l,capabilities:r,chainId:$(s.id),from:u==null?void 0:u.address,id:c,version:d}]},{retryCount:0});return typeof p=="string"?{id:p}:p}catch(p){const f=p;if(a&&(f.name==="MethodNotFoundRpcError"||f.name==="MethodNotSupportedRpcError"||f.name==="UnknownRpcError"||f.details.toLowerCase().includes("does not exist / is not available")||f.details.toLowerCase().includes("missing or invalid. request()")||f.details.toLowerCase().includes("did not match any variant of untagged enum")||f.details.toLowerCase().includes("account upgraded to unsupported contract")||f.details.toLowerCase().includes("eip-7702 not supported")||f.details.toLowerCase().includes("unsupported wc_ method"))){if(r&&Object.values(r).some(b=>!b.optional)){const b="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new zn(new N(b,{details:b}))}if(i&&l.length>1){const y="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new qn(new N(y,{details:y}))}const m=[];for(const y of l){const b=un(e,{account:u,chain:s,data:y.data,to:y.to,value:y.value?D(y.value):void 0});m.push(b),o>0&&await new Promise(v=>setTimeout(v,o))}const h=await Promise.allSettled(m);if(h.every(y=>y.status==="rejected"))throw h[0].reason;const g=h.map(y=>y.status==="fulfilled"?y.value:Xa);return{id:$e([...g,$(s.id,{size:32}),Ja])}}throw Ka(p,{...t,account:u,chain:t.chain})}}async function Qa(e,t){async function n(u){if(u.endsWith(Ja.slice(2))){const p=Ne(Ot(u,-64,-32)),f=Ot(u,0,-64).slice(2).match(/.{1,64}/g),m=await Promise.all(f.map(g=>Xa.slice(2)!==g?e.request({method:"eth_getTransactionReceipt",params:[`0x${g}`]},{dedupe:!0}):void 0)),h=m.some(g=>g===null)?100:m.every(g=>(g==null?void 0:g.status)==="0x1")?200:m.every(g=>(g==null?void 0:g.status)==="0x0")?500:600;return{atomic:!1,chainId:Z(p),receipts:m.filter(Boolean),status:h,version:"2.0.0"}}return e.request({method:"wallet_getCallsStatus",params:[u]})}const{atomic:r=!1,chainId:s,receipts:a,version:o="2.0.0",...i}=await n(t.id),[c,d]=(()=>{const u=i.status;return u>=100&&u<200?["pending",u]:u>=200&&u<300?["success",u]:u>=300&&u<700?["failure",u]:u==="CONFIRMED"?["success",200]:u==="PENDING"?["pending",100]:[void 0,u]})();return{...i,atomic:r,chainId:s?Z(s):void 0,receipts:(a==null?void 0:a.map(u=>({...u,blockNumber:D(u.blockNumber),gasUsed:D(u.gasUsed),status:ei[u.status]})))??[],statusCode:d,status:c,version:o}}async function Wc(e,t){const{id:n,pollingInterval:r=e.pollingInterval,status:s=({statusCode:h})=>h===200||h>=300,retryCount:a=4,retryDelay:o=({count:h})=>~~(1<<h)*200,timeout:i=6e4,throwOnFailure:c=!1}=t,d=J(["waitForCallsStatus",e.uid,n]),{promise:u,resolve:l,reject:p}=zr();let f;const m=xe(d,{resolve:l,reject:p},h=>{const g=Qe(async()=>{const y=b=>{clearTimeout(f),g(),b(),m()};try{const b=await Wt(async()=>{const v=await Qa(e,{id:n});if(c&&v.status==="failure")throw new Hc(v);return v},{retryCount:a,delay:o});if(!s(b))return;y(()=>h.resolve(b))}catch(b){y(()=>h.reject(b))}},{interval:r,emitOnBegin:!0});return g});return f=i?setTimeout(()=>{m(),clearTimeout(f),p(new Zc({id:n}))},i):void 0,await u}class Zc extends N{constructor({id:t}){super(`Timed out while waiting for call bundle with id "${t}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}const nr=256;let Tt=nr,Pt;function eo(e=11){if(!Pt||Tt+e>nr*2){Pt="",Tt=0;for(let t=0;t<nr;t++)Pt+=(256+Math.random()*256|0).toString(16).substring(1)}return Pt.substring(Tt,Tt+++e)}function Lr(e){const{batch:t,chain:n,ccipRead:r,key:s="base",name:a="Base Client",type:o="base"}=e,i=e.experimental_blockTag??(typeof(n==null?void 0:n.experimental_preconfirmationTime)=="number"?"pending":void 0),c=(n==null?void 0:n.blockTime)??12e3,d=Math.min(Math.max(Math.floor(c/2),500),4e3),u=e.pollingInterval??d,l=e.cacheTime??u,p=e.account?Y(e.account):void 0,{config:f,request:m,value:h}=e.transport({chain:n,pollingInterval:u}),g={...f,...h},y={account:p,batch:t,cacheTime:l,ccipRead:r,chain:n,key:s,name:a,pollingInterval:u,request:m,transport:g,type:o,uid:eo(),...i?{experimental_blockTag:i}:{}};function b(v){return S=>{const E=S(v);for(const B in y)delete E[B];const k={...v,...E};return Object.assign(k,{extend:b(k)})}}return Object.assign(y,{extend:b(y)})}function t0(){return null}const It=new br(8192);function Kc(e,{enabled:t=!0,id:n}){if(!t||!n)return e();if(It.get(n))return It.get(n);const r=e().finally(()=>It.delete(n));return It.set(n,r),r}function Yc(e,t={}){return async(n,r={})=>{var l;const{dedupe:s=!1,methods:a,retryDelay:o=150,retryCount:i=3,uid:c}={...t,...r},{method:d}=n;if((l=a==null?void 0:a.exclude)!=null&&l.includes(d))throw new xt(new Error("method not supported"),{method:d});if(a!=null&&a.include&&!a.include.includes(d))throw new xt(new Error("method not supported"),{method:d});const u=s?Lt(`${c}.${J(n)}`):void 0;return Kc(()=>Wt(async()=>{try{return await e(n)}catch(p){const f=p;switch(f.code){case bs.code:throw new bs(f);case ys.code:throw new ys(f);case hs.code:throw new hs(f,{method:n.method});case ms.code:throw new ms(f);case Dt.code:throw new Dt(f);case jt.code:throw new jt(f);case ps.code:throw new ps(f);case ls.code:throw new ls(f);case Ln.code:throw new Ln(f);case xt.code:throw new xt(f,{method:n.method});case On.code:throw new On(f);case fs.code:throw new fs(f);case Ct.code:throw new Ct(f);case ds.code:throw new ds(f);case us.code:throw new us(f);case cs.code:throw new cs(f);case is.code:throw new is(f);case os.code:throw new os(f);case zn.code:throw new zn(f);case as.code:throw new as(f);case ss.code:throw new ss(f);case rs.code:throw new rs(f);case ns.code:throw new ns(f);case ts.code:throw new ts(f);case qn.code:throw new qn(f);case 5e3:throw new Ct(f);default:throw p instanceof N?p:new Ti(f)}}},{delay:({count:p,error:f})=>{var m;if(f&&f instanceof ke){const h=(m=f==null?void 0:f.headers)==null?void 0:m.get("Retry-After");if(h!=null&&h.match(/\d/))return Number.parseInt(h)*1e3}return~~(1<<p)*o},retryCount:i,shouldRetry:({error:p})=>Jc(p)}),{enabled:s,id:u})}}function Jc(e){return"code"in e&&typeof e.code=="number"?e.code===-1||e.code===On.code||e.code===Dt.code:e instanceof ke&&e.status?e.status===403||e.status===408||e.status===413||e.status===429||e.status===500||e.status===502||e.status===503||e.status===504:!0}function dn({key:e,methods:t,name:n,request:r,retryCount:s=3,retryDelay:a=150,timeout:o,type:i},c){const d=eo();return{config:{key:e,methods:t,name:n,request:r,retryCount:s,retryDelay:a,timeout:o,type:i},request:Yc(r,{methods:t,retryCount:s,retryDelay:a,uid:d}),value:c}}function n0(e,t={}){const{key:n="custom",methods:r,name:s="Custom Provider",retryDelay:a}=t;return({retryCount:o})=>dn({key:n,methods:r,name:s,request:e.request.bind(e),retryCount:t.retryCount??o,retryDelay:a,type:"custom"})}function r0(e,t={}){const{key:n="fallback",name:r="Fallback",rank:s=!1,shouldThrow:a=Xc,retryCount:o,retryDelay:i}=t;return({chain:c,pollingInterval:d=4e3,timeout:u,...l})=>{let p=e,f=()=>{};const m=dn({key:n,name:r,async request({method:h,params:g}){let y;const b=async(v=0)=>{const S=p[v]({...l,chain:c,retryCount:0,timeout:u});try{const E=await S.request({method:h,params:g});return f({method:h,params:g,response:E,transport:S,status:"success"}),E}catch(E){if(f({error:E,method:h,params:g,transport:S,status:"error"}),a(E)||v===p.length-1||(y??(y=p.slice(v+1).some(k=>{const{include:B,exclude:I}=k({chain:c}).config.methods||{};return B?B.includes(h):I?!I.includes(h):!0})),!y))throw E;return b(v+1)}};return b()},retryCount:o,retryDelay:i,type:"fallback"},{onResponse:h=>f=h,transports:p.map(h=>h({chain:c,retryCount:0}))});if(s){const h=typeof s=="object"?s:{};Qc({chain:c,interval:h.interval??d,onTransports:g=>p=g,ping:h.ping,sampleCount:h.sampleCount,timeout:h.timeout,transports:p,weights:h.weights})}return m}}function Xc(e){return!!("code"in e&&typeof e.code=="number"&&(e.code===Ln.code||e.code===Ct.code||Se.nodeMessage.test(e.message)||e.code===5e3))}function Qc({chain:e,interval:t=4e3,onTransports:n,ping:r,sampleCount:s=10,timeout:a=1e3,transports:o,weights:i={}}){const{stability:c=.7,latency:d=.3}=i,u=[],l=async()=>{const p=await Promise.all(o.map(async h=>{const g=h({chain:e,retryCount:0,timeout:a}),y=Date.now();let b,v;try{await(r?r({transport:g}):g.request({method:"net_listening"})),v=1}catch{v=0}finally{b=Date.now()}return{latency:b-y,success:v}}));u.push(p),u.length>s&&u.shift();const f=Math.max(...u.map(h=>Math.max(...h.map(({latency:g})=>g)))),m=o.map((h,g)=>{const y=u.map(k=>k[g].latency),v=1-y.reduce((k,B)=>k+B,0)/y.length/f,S=u.map(k=>k[g].success),E=S.reduce((k,B)=>k+B,0)/S.length;return E===0?[0,g]:[d*v+c*E,g]}).sort((h,g)=>g[0]-h[0]);n(m.map(([,h])=>o[h])),await Vt(t),l()};l()}class to extends N{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function no(e,{errorInstance:t=new Error("timed out"),timeout:n,signal:r}){return new Promise((s,a)=>{(async()=>{let o;try{const i=new AbortController;n>0&&(o=setTimeout(()=>{r?i.abort():a(t)},n)),s(await e({signal:(i==null?void 0:i.signal)||null}))}catch(i){(i==null?void 0:i.name)==="AbortError"&&a(t),a(i)}finally{clearTimeout(o)}})()})}function eu(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const rr=eu();function tu(e,t={}){return{async request(n){var l;const{body:r,onRequest:s=t.onRequest,onResponse:a=t.onResponse,timeout:o=t.timeout??1e4}=n,i={...t.fetchOptions??{},...n.fetchOptions??{}},{headers:c,method:d,signal:u}=i;try{const p=await no(async({signal:m})=>{const h={...i,body:Array.isArray(r)?J(r.map(v=>({jsonrpc:"2.0",id:v.id??rr.take(),...v}))):J({jsonrpc:"2.0",id:r.id??rr.take(),...r}),headers:{"Content-Type":"application/json",...c},method:d||"POST",signal:u||(o>0?m:null)},g=new Request(e,h),y=await(s==null?void 0:s(g,h))??{...h,url:e};return await fetch(y.url??e,y)},{errorInstance:new Gn({body:r,url:e}),timeout:o,signal:!0});a&&await a(p);let f;if((l=p.headers.get("Content-Type"))!=null&&l.startsWith("application/json"))f=await p.json();else{f=await p.text();try{f=JSON.parse(f||"{}")}catch(m){if(p.ok)throw m;f={error:f}}}if(!p.ok)throw new ke({body:r,details:J(f.error)||p.statusText,headers:p.headers,status:p.status,url:e});return f}catch(p){throw p instanceof ke||p instanceof Gn?p:new ke({body:r,cause:p,url:e})}}}}function s0(e,t={}){const{batch:n,fetchOptions:r,key:s="http",methods:a,name:o="HTTP JSON-RPC",onFetchRequest:i,onFetchResponse:c,retryDelay:d,raw:u}=t;return({chain:l,retryCount:p,timeout:f})=>{const{batchSize:m=1e3,wait:h=0}=typeof n=="object"?n:{},g=t.retryCount??p,y=f??t.timeout??1e4,b=e||(l==null?void 0:l.rpcUrls.default.http[0]);if(!b)throw new to;const v=tu(b,{fetchOptions:r,onRequest:i,onResponse:c,timeout:y});return dn({key:s,methods:a,name:o,async request({method:S,params:E}){const k={method:S,params:E},{schedule:B}=qr({id:b,wait:h,shouldSplitBatch(x){return x.length>m},fn:x=>v.request({body:x}),sort:(x,T)=>x.id-T.id}),I=async x=>n?B(x):[await v.request({body:x})],[{error:w,result:P}]=await I(k);if(u)return{error:w,result:P};if(w)throw new gr({body:k,error:w,url:b});return P},retryCount:g,retryDelay:d,timeout:y,type:"http"},{fetchOptions:r,url:b})}}function Gr(e,t){var r,s,a,o,i,c;if(!(e instanceof N))return!1;const n=e.walk(d=>d instanceof Dn);return n instanceof Dn?!!(((r=n.data)==null?void 0:r.errorName)==="ResolverNotFound"||((s=n.data)==null?void 0:s.errorName)==="ResolverWildcardNotSupported"||((a=n.data)==null?void 0:a.errorName)==="ResolverNotContract"||((o=n.data)==null?void 0:o.errorName)==="ResolverError"||((i=n.data)==null?void 0:i.errorName)==="HttpError"||(c=n.reason)!=null&&c.includes("Wildcard on non-extended resolvers is not supported")||t==="reverse"&&n.reason===Xs[50]):!1}function nu(e){const{abi:t,data:n}=e,r=Gt(n,0,4),s=t.find(a=>a.type==="function"&&r===lr(ct(a)));if(!s)throw new ti(r,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:s.name,args:"inputs"in s&&s.inputs&&s.inputs.length>0?Kt(s.inputs,Gt(n,4)):void 0}}const Sn="/docs/contract/encodeErrorResult";function _s(e){const{abi:t,errorName:n,args:r}=e;let s=t[0];if(n){const c=Ze({abi:t,args:r,name:n});if(!c)throw new Jr(n,{docsPath:Sn});s=c}if(s.type!=="error")throw new Jr(void 0,{docsPath:Sn});const a=ct(s),o=lr(a);let i="0x";if(r&&r.length>0){if(!s.inputs)throw new ni(s.name,{docsPath:Sn});i=Ke(s.inputs,r)}return ve([o,i])}const Bn="/docs/contract/encodeFunctionResult";function ru(e){const{abi:t,functionName:n,result:r}=e;let s=t[0];if(n){const o=Ze({abi:t,name:n});if(!o)throw new Ve(n,{docsPath:Bn});s=o}if(s.type!=="function")throw new Ve(void 0,{docsPath:Bn});if(!s.outputs)throw new ta(s.name,{docsPath:Bn});const a=(()=>{if(s.outputs.length===0)return[];if(s.outputs.length===1)return[r];if(Array.isArray(r))return r;throw new ri(r)})();return Ke(s.outputs,a)}const fn="x-batch-gateway:true";async function ro(e){const{data:t,ccipRequest:n}=e,{args:[r]}=nu({abi:er,data:t}),s=[],a=[];return await Promise.all(r.map(async(o,i)=>{try{a[i]=o.urls.includes(fn)?await ro({data:o.data,ccipRequest:n}):await n(o),s[i]=!1}catch(c){s[i]=!0,a[i]=su(c)}})),ru({abi:er,functionName:"query",result:[s,a]})}function su(e){return e.name==="HttpRequestError"&&e.status?_s({abi:er,errorName:"HttpError",args:[e.status,e.shortMessage]}):_s({abi:[si],errorName:"Error",args:["shortMessage"in e?e.shortMessage:e.message]})}function $t(e){let t=new Uint8Array(32).fill(0);if(!e)return ne(t);const n=e.split(".");for(let r=n.length-1;r>=0;r-=1){const s=ai(n[r]),a=s?Ee(s):be(Bt(n[r]),"bytes");t=be($e([t,a]),"bytes")}return ne(t)}function au(e){return`[${e.slice(2)}]`}function ln(e){const t=e.replace(/^\.|\.$/gm,"");if(t.length===0)return new Uint8Array(1);const n=new Uint8Array(Bt(t).byteLength+2);let r=0;const s=t.split(".");for(let a=0;a<s.length;a++){let o=Bt(s[a]);o.byteLength>255&&(o=Bt(au(oi(s[a])))),n[r]=o.length,n.set(o,r+1),r+=o.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}async function ou(e,t){const{blockNumber:n,blockTag:r,coinType:s,name:a,gatewayUrls:o,strict:i}=t,{chain:c}=e,d=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return Xe({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),u=c==null?void 0:c.ensTlds;if(u&&!u.some(l=>a.endsWith(l)))return null;try{const l=ie({abi:Ns,functionName:"addr",...s!=null?{args:[$t(a),BigInt(s)]}:{args:[$t(a)]}}),p={address:d,abi:Da,functionName:"resolve",args:[fe(ln(a)),l,o??[fn]],blockNumber:n,blockTag:r},m=await M(e,me,"readContract")(p);if(m[0]==="0x")return null;const h=Le({abi:Ns,args:s!=null?[$t(a),BigInt(s)]:void 0,functionName:"addr",data:m[0]});return h==="0x"||Ne(h)==="0x00"?null:h}catch(l){if(i)throw l;if(Gr(l,"resolve"))return null;throw l}}class iu extends N{constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`],name:"EnsAvatarInvalidMetadataError"})}}class tt extends N{constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`,{name:"EnsAvatarInvalidNftUriError"})}}class Dr extends N{constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class cu extends N{constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const uu=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,du=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,fu=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,lu=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function pu(e){try{const t=await fetch(e,{method:"HEAD"});if(t.status===200){const n=t.headers.get("content-type");return n==null?void 0:n.startsWith("image/")}return!1}catch(t){return typeof t=="object"&&typeof t.response<"u"||!globalThis.hasOwnProperty("Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=e})}}function Ms(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function so({uri:e,gatewayUrls:t}){const n=fu.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const r=Ms(t==null?void 0:t.ipfs,"https://ipfs.io"),s=Ms(t==null?void 0:t.arweave,"https://arweave.net"),a=e.match(uu),{protocol:o,subpath:i,target:c,subtarget:d=""}=(a==null?void 0:a.groups)||{},u=o==="ipns:/"||i==="ipns/",l=o==="ipfs:/"||i==="ipfs/"||du.test(e);if(e.startsWith("http")&&!u&&!l){let f=e;return t!=null&&t.arweave&&(f=e.replace(/https:\/\/arweave.net/g,t==null?void 0:t.arweave)),{uri:f,isOnChain:!1,isEncoded:!1}}if((u||l)&&c)return{uri:`${r}/${u?"ipns":"ipfs"}/${c}${d}`,isOnChain:!1,isEncoded:!1};if(o==="ar:/"&&c)return{uri:`${s}/${c}${d||""}`,isOnChain:!1,isEncoded:!1};let p=e.replace(lu,"");if(p.startsWith("<svg")&&(p=`data:image/svg+xml;base64,${btoa(p)}`),p.startsWith("data:")||p.startsWith("{"))return{uri:p,isOnChain:!0,isEncoded:!1};throw new Dr({uri:e})}function ao(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new iu({data:e});return e.image||e.image_url||e.image_data}async function mu({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then(s=>s.json());return await jr({gatewayUrls:e,uri:ao(n)})}catch{throw new Dr({uri:t})}}async function jr({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:r}=so({uri:t,gatewayUrls:e});if(r||await pu(n))return n;throw new Dr({uri:t})}function hu(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,r,s]=t.split("/"),[a,o]=n.split(":"),[i,c]=r.split(":");if(!a||a.toLowerCase()!=="eip155")throw new tt({reason:"Only EIP-155 supported"});if(!o)throw new tt({reason:"Chain ID not found"});if(!c)throw new tt({reason:"Contract address not found"});if(!s)throw new tt({reason:"Token ID not found"});if(!i)throw new tt({reason:"ERC namespace not found"});return{chainID:Number.parseInt(o),namespace:i.toLowerCase(),contractAddress:c,tokenID:s}}async function yu(e,{nft:t}){if(t.namespace==="erc721")return me(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if(t.namespace==="erc1155")return me(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new cu({namespace:t.namespace})}async function bu(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?gu(e,{gatewayUrls:t,record:n}):jr({uri:n,gatewayUrls:t})}async function gu(e,{gatewayUrls:t,record:n}){const r=hu(n),s=await yu(e,{nft:r}),{uri:a,isOnChain:o,isEncoded:i}=so({uri:s,gatewayUrls:t});if(o&&(a.includes("data:application/json;base64,")||a.startsWith("{"))){const d=i?atob(a.replace("data:application/json;base64,","")):a,u=JSON.parse(d);return jr({uri:ao(u),gatewayUrls:t})}let c=r.tokenID;return r.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),mu({gatewayUrls:t,uri:a.replace(/(?:0x)?{id}/,c)})}async function oo(e,t){const{blockNumber:n,blockTag:r,key:s,name:a,gatewayUrls:o,strict:i}=t,{chain:c}=e,d=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return Xe({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),u=c==null?void 0:c.ensTlds;if(u&&!u.some(l=>a.endsWith(l)))return null;try{const l={address:d,abi:Da,functionName:"resolve",args:[fe(ln(a)),ie({abi:$s,functionName:"text",args:[$t(a),s]}),o??[fn]],blockNumber:n,blockTag:r},f=await M(e,me,"readContract")(l);if(f[0]==="0x")return null;const m=Le({abi:$s,functionName:"text",data:f[0]});return m===""?null:m}catch(l){if(i)throw l;if(Gr(l,"resolve"))return null;throw l}}async function wu(e,{blockNumber:t,blockTag:n,assetGatewayUrls:r,name:s,gatewayUrls:a,strict:o,universalResolverAddress:i}){const c=await M(e,oo,"getEnsText")({blockNumber:t,blockTag:n,key:"avatar",name:s,universalResolverAddress:i,gatewayUrls:a,strict:o});if(!c)return null;try{return await bu(e,{record:c,gatewayUrls:r})}catch{return null}}async function xu(e,{address:t,blockNumber:n,blockTag:r,gatewayUrls:s,strict:a,universalResolverAddress:o}){let i=o;if(!i){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");i=Xe({blockNumber:n,chain:e.chain,contract:"ensUniversalResolver"})}const c=`${t.toLowerCase().substring(2)}.addr.reverse`;try{const d={address:i,abi:Bc,functionName:"reverse",args:[fe(ln(c))],blockNumber:n,blockTag:r},u=M(e,me,"readContract"),[l,p]=s?await u({...d,args:[...d.args,s]}):await u(d);return t.toLowerCase()!==p.toLowerCase()?null:l}catch(d){if(a)throw d;if(Gr(d,"reverse"))return null;throw d}}async function vu(e,t){const{blockNumber:n,blockTag:r,name:s}=t,{chain:a}=e,o=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!a)throw new Error("client chain not configured. universalResolverAddress is required.");return Xe({blockNumber:n,chain:a,contract:"ensUniversalResolver"})})(),i=a==null?void 0:a.ensTlds;if(i&&!i.some(d=>s.endsWith(d)))throw new Error(`${s} is not a valid ENS TLD (${i==null?void 0:i.join(", ")}) for chain "${a.name}" (id: ${a.id}).`);const[c]=await M(e,me,"readContract")({address:o,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[fe(ln(s))],blockNumber:n,blockTag:r});return c}async function io(e,t){var g,y,b;const{account:n=e.account,blockNumber:r,blockTag:s="latest",blobs:a,data:o,gas:i,gasPrice:c,maxFeePerBlobGas:d,maxFeePerGas:u,maxPriorityFeePerGas:l,to:p,value:f,...m}=t,h=n?Y(n):void 0;try{Oe(t);const S=(typeof r=="bigint"?$(r):void 0)||s,E=(b=(y=(g=e.chain)==null?void 0:g.formatters)==null?void 0:y.transactionRequest)==null?void 0:b.format,B=(E||ze)({...pt(m,{format:E}),from:h==null?void 0:h.address,blobs:a,data:o,gas:i,gasPrice:c,maxFeePerBlobGas:d,maxFeePerGas:u,maxPriorityFeePerGas:l,to:p,value:f}),I=await e.request({method:"eth_createAccessList",params:[B,S]});return{accessList:I.accessList,gasUsed:BigInt(I.gasUsed)}}catch(v){throw Ha(v,{...t,account:h,chain:e.chain})}}async function Eu(e){const t=Jt(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}async function co(e,{address:t,args:n,event:r,events:s,fromBlock:a,strict:o,toBlock:i}={}){const c=s??(r?[r]:void 0),d=Jt(e,{method:"eth_newFilter"});let u=[];c&&(u=[c.flatMap(f=>it({abi:[f],eventName:f.name,args:n}))],r&&(u=u[0]));const l=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof a=="bigint"?$(a):a,toBlock:typeof i=="bigint"?$(i):i,...u.length?{topics:u}:{}}]});return{abi:c,args:n,eventName:r?r.name:void 0,fromBlock:a,id:l,request:d(l),strict:!!o,toBlock:i,type:"event"}}async function uo(e){const t=Jt(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}async function Tu(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}async function Pu(e,{blockHash:t,blockNumber:n,blockTag:r="latest"}={}){const s=n!==void 0?$(n):void 0;let a;return t?a=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):a=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[s||r]},{dedupe:!!s}),Z(a)}async function zs(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n!==void 0?$(n):void 0,a=await e.request({method:"eth_getCode",params:[t,s||r]},{dedupe:!!s});if(a!=="0x")return a}class Iu extends N{constructor({address:t}){super(`No EIP-712 domain found on contract "${t}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${t}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function Au(e,t){const{address:n,factory:r,factoryData:s}=t;try{const[a,o,i,c,d,u,l]=await M(e,me,"readContract")({abi:Su,address:n,functionName:"eip712Domain",factory:r,factoryData:s});return{domain:{name:o,version:i,chainId:Number(c),verifyingContract:d,salt:u},extensions:l,fields:a}}catch(a){const o=a;throw o.name==="ContractFunctionExecutionError"&&o.cause.name==="ContractFunctionZeroDataError"?new Iu({address:n}):o}}const Su=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function Bu(e){var t;return{baseFeePerGas:e.baseFeePerGas.map(n=>BigInt(n)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:(t=e.reward)==null?void 0:t.map(n=>n.map(r=>BigInt(r)))}}async function Cu(e,{blockCount:t,blockNumber:n,blockTag:r="latest",rewardPercentiles:s}){const a=typeof n=="bigint"?$(n):void 0,o=await e.request({method:"eth_feeHistory",params:[$(t),a||r,s]},{dedupe:!!a});return Bu(o)}async function ku(e,{filter:t}){const n=t.strict??!1,s=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(a=>Te(a));return t.abi?hr({abi:t.abi,logs:s,strict:n}):s}class $u extends N{constructor({callbackSelector:t,cause:n,data:r,extraData:s,sender:a,urls:o}){var i;super(n.shortMessage||"An error occurred while fetching for an offchain result.",{cause:n,metaMessages:[...n.metaMessages||[],(i=n.metaMessages)!=null&&i.length?"":[],"Offchain Gateway Call:",o&&["  Gateway URL(s):",...o.map(c=>`    ${ua(c)}`)],`  Sender: ${a}`,`  Data: ${r}`,`  Callback selector: ${t}`,`  Extra data: ${s}`].flat(),name:"OffchainLookupError"})}}class Nu extends N{constructor({result:t,url:n}){super("Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:[`Gateway URL: ${ua(n)}`,`Response: ${J(t)}`],name:"OffchainLookupResponseMalformedError"})}}class Ru extends N{constructor({sender:t,to:n}){super("Reverted sender address does not match target contract address (`to`).",{metaMessages:[`Contract address: ${n}`,`OffchainLookup sender address: ${t}`],name:"OffchainLookupSenderMismatchError"})}}const Fu="0x556f1830",fo={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]};async function _u(e,{blockNumber:t,blockTag:n,data:r,to:s}){const{args:a}=Js({data:r,abi:[fo]}),[o,i,c,d,u]=a,{ccipRead:l}=e,p=l&&typeof(l==null?void 0:l.request)=="function"?l.request:lo;try{if(!qe(s,o))throw new Ru({sender:o,to:s});const f=i.includes(fn)?await ro({data:c,ccipRequest:p}):await p({data:c,sender:o,urls:i}),{data:m}=await mt(e,{blockNumber:t,blockTag:n,data:$e([d,Ke([{type:"bytes"},{type:"bytes"}],[f,u])]),to:s});return m}catch(f){throw new $u({callbackSelector:d,cause:f,data:r,extraData:u,sender:o,urls:i})}}async function lo({data:e,sender:t,urls:n}){var s;let r=new Error("An unknown error occurred.");for(let a=0;a<n.length;a++){const o=n[a],i=o.includes("{data}")?"GET":"POST",c=i==="POST"?{data:e,sender:t}:void 0,d=i==="POST"?{"Content-Type":"application/json"}:{};try{const u=await fetch(o.replace("{sender}",t.toLowerCase()).replace("{data}",e),{body:JSON.stringify(c),headers:d,method:i});let l;if((s=u.headers.get("Content-Type"))!=null&&s.startsWith("application/json")?l=(await u.json()).data:l=await u.text(),!u.ok){r=new ke({body:c,details:l!=null&&l.error?J(l.error):u.statusText,headers:u.headers,status:u.status,url:o});continue}if(!G(l)){r=new Nu({result:l,url:o});continue}return l}catch(u){r=new ke({body:c,details:u.message,url:o})}}throw r}const Mu=Object.freeze(Object.defineProperty({__proto__:null,ccipRequest:lo,offchainLookup:_u,offchainLookupAbiItem:fo,offchainLookupSignature:Fu},Symbol.toStringTag,{value:"Module"}));function a0({chains:e,id:t}){return e.find(n=>n.id===t)}const Cn=new Map;async function zu(e){const{getSocket:t,keepAlive:n=!0,key:r="socket",reconnect:s=!0,url:a}=e,{interval:o=3e4}=typeof n=="object"?n:{},{attempts:i=5,delay:c=2e3}=typeof s=="object"?s:{},d=JSON.stringify({keepAlive:n,key:r,url:a,reconnect:s});let u=Cn.get(d);if(u)return u;let l=0;const{schedule:p}=qr({id:d,fn:async()=>{const h=new Map,g=new Map;let y,b,v,S=!1;function E(){if(s&&l<i){if(S)return;S=!0,l++,b==null||b.close(),setTimeout(async()=>{await k().catch(console.error),S=!1},c)}else h.clear(),g.clear()}async function k(){const B=await t({onClose(){var I,w;for(const P of h.values())(I=P.onError)==null||I.call(P,new Ut({url:a}));for(const P of g.values())(w=P.onError)==null||w.call(P,new Ut({url:a}));E()},onError(I){var w,P;y=I;for(const x of h.values())(w=x.onError)==null||w.call(x,y);for(const x of g.values())(P=x.onError)==null||P.call(x,y);E()},onOpen(){y=void 0,l=0},onResponse(I){const w=I.method==="eth_subscription",P=w?I.params.subscription:I.id,x=w?g:h,T=x.get(P);T&&T.onResponse(I),w||x.delete(P)}});if(b=B,n&&(v&&clearInterval(v),v=setInterval(()=>{var I;return(I=b.ping)==null?void 0:I.call(b)},o)),s&&g.size>0){const I=g.entries();for(const[w,{onResponse:P,body:x,onError:T}]of I)x&&(g.delete(w),u==null||u.request({body:x,onResponse:P,onError:T}))}return B}return await k(),y=void 0,u={close(){v&&clearInterval(v),b.close(),Cn.delete(d)},get socket(){return b},request({body:B,onError:I,onResponse:w}){y&&I&&I(y);const P=B.id??rr.take(),x=T=>{var C;typeof T.id=="number"&&P!==T.id||(B.method==="eth_subscribe"&&typeof T.result=="string"&&g.set(T.result,{onResponse:x,onError:I,body:B}),B.method==="eth_unsubscribe"&&g.delete((C=B.params)==null?void 0:C[0]),w(T))};h.set(P,{onResponse:x,onError:I});try{b.request({body:{jsonrpc:"2.0",id:P,...B}})}catch(T){I==null||I(T)}},requestAsync({body:B,timeout:I=1e4}){return no(()=>new Promise((w,P)=>this.request({body:B,onError:P,onResponse:w})),{errorInstance:new Gn({body:B,url:a}),timeout:I})},requests:h,subscriptions:g,url:a},Cn.set(d,u),[u]}}),[f,[m]]=await p();return m}async function Nt(e,t={}){const{keepAlive:n,reconnect:r}=t;return zu({async getSocket({onClose:s,onError:a,onOpen:o,onResponse:i}){const c=await mr(()=>import("./native-CJ5et6AR.js"),[]).then(f=>f.WebSocket),d=new c(e);function u(){d.removeEventListener("close",u),d.removeEventListener("message",l),d.removeEventListener("error",a),d.removeEventListener("open",o),s()}function l({data:f}){try{const m=JSON.parse(f);i(m)}catch(m){a(m)}}d.addEventListener("close",u),d.addEventListener("message",l),d.addEventListener("error",a),d.addEventListener("open",o),d.readyState===c.CONNECTING&&await new Promise((f,m)=>{d&&(d.onopen=f,d.onerror=m)});const{close:p}=d;return Object.assign(d,{close(){p.bind(d)(),u()},ping(){try{if(d.readyState===d.CLOSED||d.readyState===d.CLOSING)throw new gs({url:d.url,cause:new Ut({url:d.url})});const f={jsonrpc:"2.0",method:"net_version",params:[]};d.send(JSON.stringify(f))}catch(f){a(f)}},request({body:f}){if(d.readyState===d.CLOSED||d.readyState===d.CLOSING)throw new gs({body:f,url:d.url,cause:new Ut({url:d.url})});return d.send(JSON.stringify(f))}})},keepAlive:n,reconnect:r,url:e})}async function qu(e){const t=await Nt(e);return Object.assign(t.socket,{requests:t.requests,subscriptions:t.subscriptions})}function po(e){const{authorizationList:t}=e;if(t)for(const n of t){const{chainId:r}=n,s=n.address;if(!le(s))throw new ge({address:s});if(r<0)throw new sn({chainId:r})}pn(e)}function mo(e){const{blobVersionedHashes:t}=e;if(t){if(t.length===0)throw new Aa;for(const n of t){const r=ut(n),s=Z(Gt(n,0,1));if(r!==32)throw new Xi({hash:n,size:r});if(s!==Ia)throw new Qi({hash:n,version:s})}}pn(e)}function pn(e){const{chainId:t,maxPriorityFeePerGas:n,maxFeePerGas:r,to:s}=e;if(t<=0)throw new sn({chainId:t});if(s&&!le(s))throw new ge({address:s});if(r&&r>Yt)throw new Fe({maxFeePerGas:r});if(n&&r&&n>r)throw new ot({maxFeePerGas:r,maxPriorityFeePerGas:n})}function ho(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:s,to:a}=e;if(t<=0)throw new sn({chainId:t});if(a&&!le(a))throw new ge({address:a});if(n||s)throw new N("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(r&&r>Yt)throw new Fe({maxFeePerGas:r})}function yo(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:s,to:a}=e;if(a&&!le(a))throw new ge({address:a});if(typeof t<"u"&&t<=0)throw new sn({chainId:t});if(n||s)throw new N("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(r&&r>Yt)throw new Fe({maxFeePerGas:r})}function mn(e){if(!e||e.length===0)return[];const t=[];for(let n=0;n<e.length;n++){const{address:r,storageKeys:s}=e[n];for(let a=0;a<s.length;a++)if(s[a].length-2!==64)throw new Fi({storageKey:s[a]});if(!le(r,{strict:!1}))throw new ge({address:r});t.push([r,s])}return t}function Ou(e,t){const n=Sa(e);return n==="eip1559"?Du(e,t):n==="eip2930"?ju(e,t):n==="eip4844"?Gu(e,t):n==="eip7702"?Lu(e,t):Uu(e,t)}function Lu(e,t){const{authorizationList:n,chainId:r,gas:s,nonce:a,to:o,value:i,maxFeePerGas:c,maxPriorityFeePerGas:d,accessList:u,data:l}=e;po(e);const p=mn(u),f=Hu(n);return ve(["0x04",Pe([$(r),a?$(a):"0x",d?$(d):"0x",c?$(c):"0x",s?$(s):"0x",o??"0x",i?$(i):"0x",l??"0x",p,f,...yt(e,t)])])}function Gu(e,t){const{chainId:n,gas:r,nonce:s,to:a,value:o,maxFeePerBlobGas:i,maxFeePerGas:c,maxPriorityFeePerGas:d,accessList:u,data:l}=e;mo(e);let p=e.blobVersionedHashes,f=e.sidecars;if(e.blobs&&(typeof p>"u"||typeof f>"u")){const v=typeof e.blobs[0]=="string"?e.blobs:e.blobs.map(k=>ne(k)),S=e.kzg,E=Pr({blobs:v,kzg:S});if(typeof p>"u"&&(p=Ea({commitments:E})),typeof f>"u"){const k=Ir({blobs:v,commitments:E,kzg:S});f=Sr({blobs:v,commitments:E,proofs:k})}}const m=mn(u),h=[$(n),s?$(s):"0x",d?$(d):"0x",c?$(c):"0x",r?$(r):"0x",a??"0x",o?$(o):"0x",l??"0x",m,i?$(i):"0x",p??[],...yt(e,t)],g=[],y=[],b=[];if(f)for(let v=0;v<f.length;v++){const{blob:S,commitment:E,proof:k}=f[v];g.push(S),y.push(E),b.push(k)}return ve(["0x03",f?Pe([h,g,y,b]):Pe(h)])}function Du(e,t){const{chainId:n,gas:r,nonce:s,to:a,value:o,maxFeePerGas:i,maxPriorityFeePerGas:c,accessList:d,data:u}=e;pn(e);const l=mn(d),p=[$(n),s?$(s):"0x",c?$(c):"0x",i?$(i):"0x",r?$(r):"0x",a??"0x",o?$(o):"0x",u??"0x",l,...yt(e,t)];return ve(["0x02",Pe(p)])}function ju(e,t){const{chainId:n,gas:r,data:s,nonce:a,to:o,value:i,accessList:c,gasPrice:d}=e;ho(e);const u=mn(c),l=[$(n),a?$(a):"0x",d?$(d):"0x",r?$(r):"0x",o??"0x",i?$(i):"0x",s??"0x",u,...yt(e,t)];return ve(["0x01",Pe(l)])}function Uu(e,t){const{chainId:n=0,gas:r,data:s,nonce:a,to:o,value:i,gasPrice:c}=e;yo(e);let d=[a?$(a):"0x",c?$(c):"0x",r?$(r):"0x",o??"0x",i?$(i):"0x",s??"0x"];if(t){const u=(()=>{if(t.v>=35n)return(t.v-35n)/2n>0?t.v:27n+(t.v===35n?0n:1n);if(n>0)return BigInt(n*2)+BigInt(35n+t.v-27n);const f=27n+(t.v===27n?0n:1n);if(t.v!==f)throw new ma({v:t.v});return f})(),l=Ne(t.r),p=Ne(t.s);d=[...d,$(u),l==="0x00"?"0x":l,p==="0x00"?"0x":p]}else n>0&&(d=[...d,$(n),"0x","0x"]);return Pe(d)}function yt(e,t){const n=t??e,{v:r,yParity:s}=n;if(typeof n.r>"u")return[];if(typeof n.s>"u")return[];if(typeof r>"u"&&typeof s>"u")return[];const a=Ne(n.r),o=Ne(n.s);return[typeof s=="number"?s?$(1):"0x":r===0n?"0x":r===1n?$(1):r===27n?"0x":$(1),a==="0x00"?"0x":a,o==="0x00"?"0x":o]}function Hu(e){if(!e||e.length===0)return[];const t=[];for(const n of e){const{chainId:r,nonce:s,...a}=n,o=n.address;t.push([r?fe(r):"0x",o,s?fe(s):"0x",...yt({},a)])}return t}function qs(e){return!e||typeof e!="object"||!("BYTES_PER_ELEMENT"in e)?!1:e.BYTES_PER_ELEMENT===1&&e.constructor.name==="Uint8Array"}function o0(e){return e.opcode==="CREATE2"?Wu(e):Vu(e)}function Vu(e){const t=Ee(we(e.from));let n=Ee(e.nonce);return n[0]===0&&(n=new Uint8Array([])),we(`0x${be(Pe([t,n],"bytes")).slice(26)}`)}function Wu(e){const t=Ee(we(e.from)),n=ii(qs(e.salt)?e.salt:Ee(e.salt),{size:32}),r="bytecodeHash"in e?qs(e.bytecodeHash)?e.bytecodeHash:Ee(e.bytecodeHash):be(e.bytecode,"bytes");return we(Gt(be($e([Ee("0xff"),t,n,r])),12))}function bo(e,t="hex"){const n=(()=>{if(typeof e=="string"){if(e.length>3&&e.length%2!==0)throw new ci(e);return ce(e)}return e})(),r=Mt(n,{recursiveReadLimit:Number.POSITIVE_INFINITY});return go(r,t)}function go(e,t="hex"){if(e.bytes.length===0)return t==="hex"?ne(e.bytes):e.bytes;const n=e.readByte();if(n<128&&e.decrementPosition(1),n<192){const s=Os(e,n,128),a=e.readBytes(s);return t==="hex"?ne(a):a}const r=Os(e,n,192);return Zu(e,r,t)}function Os(e,t,n){if(n===128&&t<128)return 1;if(t<=n+55)return t-n;if(t===n+55+1)return e.readUint8();if(t===n+55+2)return e.readUint16();if(t===n+55+3)return e.readUint24();if(t===n+55+4)return e.readUint32();throw new N("Invalid RLP prefix")}function Zu(e,t,n){const r=e.position,s=[];for(;e.position-r<t;)s.push(go(e,n));return s}function Ku(e){return G(e)&&ut(e)===32}const Yu=Uint8Array.from([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),wo=Uint8Array.from(new Array(16).fill(0).map((e,t)=>t)),Ju=wo.map(e=>(9*e+5)%16),xo=(()=>{const n=[[wo],[Ju]];for(let r=0;r<4;r++)for(let s of n)s.push(s[r].map(a=>Yu[a]));return n})(),vo=xo[0],Eo=xo[1],To=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(e=>Uint8Array.from(e)),Xu=vo.map((e,t)=>e.map(n=>To[t][n])),Qu=Eo.map((e,t)=>e.map(n=>To[t][n])),ed=Uint32Array.from([0,1518500249,1859775393,2400959708,2840853838]),td=Uint32Array.from([1352829926,1548603684,1836072691,2053994217,0]);function Ls(e,t,n,r){return e===0?t^n^r:e===1?t&n|~t&r:e===2?(t|~n)^r:e===3?t&r|n&~r:t^(n|~r)}const At=new Uint32Array(16);class nd extends Ii{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:t,h1:n,h2:r,h3:s,h4:a}=this;return[t,n,r,s,a]}set(t,n,r,s,a){this.h0=t|0,this.h1=n|0,this.h2=r|0,this.h3=s|0,this.h4=a|0}process(t,n){for(let f=0;f<16;f++,n+=4)At[f]=t.getUint32(n,!0);let r=this.h0|0,s=r,a=this.h1|0,o=a,i=this.h2|0,c=i,d=this.h3|0,u=d,l=this.h4|0,p=l;for(let f=0;f<5;f++){const m=4-f,h=ed[f],g=td[f],y=vo[f],b=Eo[f],v=Xu[f],S=Qu[f];for(let E=0;E<16;E++){const k=wt(r+Ls(f,a,i,d)+At[y[E]]+h,v[E])+l|0;r=l,l=d,d=wt(i,10)|0,i=a,a=k}for(let E=0;E<16;E++){const k=wt(s+Ls(m,o,c,u)+At[b[E]]+g,S[E])+p|0;s=p,p=u,u=wt(c,10)|0,c=o,o=k}}this.set(this.h1+i+u|0,this.h2+d+p|0,this.h3+l+s|0,this.h4+r+o|0,this.h0+a+c|0)}roundClean(){_n(At)}destroy(){this.destroyed=!0,_n(this.buffer),this.set(0,0,0,0,0)}}const rd=ui(()=>new nd),sd=rd;function i0(e,t){const n=t||"hex",r=sd(G(e,{strict:!1})?Ee(e):e);return n==="bytes"?r:fe(r)}const ad=`Ethereum Signed Message:
`;function od(e){const t=typeof e=="string"?Lt(e):typeof e.raw=="string"?e.raw:ne(e.raw),n=Lt(`${ad}${ut(t)}`);return $e([n,t])}function Ur(e,t){return be(od(e),t)}async function id({message:e,signature:t}){return Ye({hash:Ur(e),signature:t})}async function cd(e){const{domain:t,message:n,primaryType:r,signature:s,types:a}=e;return Ye({hash:ca({domain:t,message:n,primaryType:r,types:a}),signature:s})}async function c0({address:e,hash:t,signature:n}){return qe(we(e),await Ye({hash:t,signature:n}))}async function u0({address:e,message:t,signature:n}){return qe(we(e),await id({message:t,signature:n}))}async function d0(e){const{address:t,domain:n,message:r,primaryType:s,signature:a,types:o}=e;return qe(we(t),await cd({domain:n,message:r,primaryType:s,signature:a,types:o}))}const Po="0x6492649264926492649264926492649264926492649264926492649264926492",f0="0x0000000000000000000000000000000000000000000000000000000000000000";function Io(e){return Ot(e,-32)===Po}function l0(e){if(!Io(e))return{signature:e};const[t,n,r]=Kt([{type:"address"},{type:"bytes"},{type:"bytes"}],e);return{address:t,data:n,signature:r}}function ud(e){const{address:t,data:n,signature:r,to:s="hex"}=e,a=ve([Ke([{type:"address"},{type:"bytes"},{type:"bytes"}],[t,n,r]),Po]);return s==="hex"?a:ce(a)}function dd(e){const t=Ot(e,0,1);if(t==="0x04")return"eip7702";if(t==="0x03")return"eip4844";if(t==="0x02")return"eip1559";if(t==="0x01")return"eip2930";if(t!=="0x"&&Z(t)>=192)return"legacy";throw new Ri({serializedType:t})}function fd(e){const t=dd(e);return t==="eip1559"?md(e):t==="eip2930"?hd(e):t==="eip4844"?pd(e):t==="eip7702"?ld(e):yd(e)}function ld(e){const t=hn(e),[n,r,s,a,o,i,c,d,u,l,p,f,m]=t;if(t.length!==10&&t.length!==13)throw new ft({attributes:{chainId:n,nonce:r,maxPriorityFeePerGas:s,maxFeePerGas:a,gas:o,to:i,value:c,data:d,accessList:u,authorizationList:l,...t.length>9?{v:p,r:f,s:m}:{}},serializedTransaction:e,type:"eip7702"});const h={chainId:Z(n),type:"eip7702"};return G(i)&&i!=="0x"&&(h.to=i),G(o)&&o!=="0x"&&(h.gas=D(o)),G(d)&&d!=="0x"&&(h.data=d),G(r)&&(h.nonce=r==="0x"?0:Z(r)),G(c)&&c!=="0x"&&(h.value=D(c)),G(a)&&a!=="0x"&&(h.maxFeePerGas=D(a)),G(s)&&s!=="0x"&&(h.maxPriorityFeePerGas=D(s)),u.length!==0&&u!=="0x"&&(h.accessList=yn(u)),l.length!==0&&l!=="0x"&&(h.authorizationList=bd(l)),po(h),{...t.length===13?bt(t):void 0,...h}}function pd(e){const t=hn(e),n=t.length===4,r=n?t[0]:t,s=n?t.slice(1):[],[a,o,i,c,d,u,l,p,f,m,h,g,y,b]=r,[v,S,E]=s;if(!(r.length===11||r.length===14))throw new ft({attributes:{chainId:a,nonce:o,maxPriorityFeePerGas:i,maxFeePerGas:c,gas:d,to:u,value:l,data:p,accessList:f,...r.length>9?{v:g,r:y,s:b}:{}},serializedTransaction:e,type:"eip4844"});const k={blobVersionedHashes:h,chainId:Z(a),type:"eip4844"};return G(u)&&u!=="0x"&&(k.to=u),G(d)&&d!=="0x"&&(k.gas=D(d)),G(p)&&p!=="0x"&&(k.data=p),G(o)&&(k.nonce=o==="0x"?0:Z(o)),G(l)&&l!=="0x"&&(k.value=D(l)),G(m)&&m!=="0x"&&(k.maxFeePerBlobGas=D(m)),G(c)&&c!=="0x"&&(k.maxFeePerGas=D(c)),G(i)&&i!=="0x"&&(k.maxPriorityFeePerGas=D(i)),f.length!==0&&f!=="0x"&&(k.accessList=yn(f)),v&&S&&E&&(k.sidecars=Sr({blobs:v,commitments:S,proofs:E})),mo(k),{...r.length===14?bt(r):void 0,...k}}function md(e){const t=hn(e),[n,r,s,a,o,i,c,d,u,l,p,f]=t;if(!(t.length===9||t.length===12))throw new ft({attributes:{chainId:n,nonce:r,maxPriorityFeePerGas:s,maxFeePerGas:a,gas:o,to:i,value:c,data:d,accessList:u,...t.length>9?{v:l,r:p,s:f}:{}},serializedTransaction:e,type:"eip1559"});const m={chainId:Z(n),type:"eip1559"};return G(i)&&i!=="0x"&&(m.to=i),G(o)&&o!=="0x"&&(m.gas=D(o)),G(d)&&d!=="0x"&&(m.data=d),G(r)&&(m.nonce=r==="0x"?0:Z(r)),G(c)&&c!=="0x"&&(m.value=D(c)),G(a)&&a!=="0x"&&(m.maxFeePerGas=D(a)),G(s)&&s!=="0x"&&(m.maxPriorityFeePerGas=D(s)),u.length!==0&&u!=="0x"&&(m.accessList=yn(u)),pn(m),{...t.length===12?bt(t):void 0,...m}}function hd(e){const t=hn(e),[n,r,s,a,o,i,c,d,u,l,p]=t;if(!(t.length===8||t.length===11))throw new ft({attributes:{chainId:n,nonce:r,gasPrice:s,gas:a,to:o,value:i,data:c,accessList:d,...t.length>8?{v:u,r:l,s:p}:{}},serializedTransaction:e,type:"eip2930"});const f={chainId:Z(n),type:"eip2930"};return G(o)&&o!=="0x"&&(f.to=o),G(a)&&a!=="0x"&&(f.gas=D(a)),G(c)&&c!=="0x"&&(f.data=c),G(r)&&(f.nonce=r==="0x"?0:Z(r)),G(i)&&i!=="0x"&&(f.value=D(i)),G(s)&&s!=="0x"&&(f.gasPrice=D(s)),d.length!==0&&d!=="0x"&&(f.accessList=yn(d)),ho(f),{...t.length===11?bt(t):void 0,...f}}function yd(e){const t=bo(e,"hex"),[n,r,s,a,o,i,c,d,u]=t;if(!(t.length===6||t.length===9))throw new ft({attributes:{nonce:n,gasPrice:r,gas:s,to:a,value:o,data:i,...t.length>6?{v:c,r:d,s:u}:{}},serializedTransaction:e,type:"legacy"});const l={type:"legacy"};if(G(a)&&a!=="0x"&&(l.to=a),G(s)&&s!=="0x"&&(l.gas=D(s)),G(i)&&i!=="0x"&&(l.data=i),G(n)&&(l.nonce=n==="0x"?0:Z(n)),G(o)&&o!=="0x"&&(l.value=D(o)),G(r)&&r!=="0x"&&(l.gasPrice=D(r)),yo(l),t.length===6)return l;const p=G(c)&&c!=="0x"?D(c):0n;if(u==="0x"&&d==="0x")return p>0&&(l.chainId=Number(p)),l;const f=p,m=Number((f-35n)/2n);if(m>0)l.chainId=m;else if(f!==27n&&f!==28n)throw new ma({v:f});return l.v=f,l.s=u,l.r=d,l.yParity=f%2n===0n?1:0,l}function hn(e){return bo(`0x${e.slice(4)}`,"hex")}function yn(e){const t=[];for(let n=0;n<e.length;n++){const[r,s]=e[n];if(!le(r,{strict:!1}))throw new ge({address:r});t.push({address:r,storageKeys:s.map(a=>Ku(a)?a:Ne(a))})}return t}function bd(e){const t=[];for(let n=0;n<e.length;n++){const[r,s,a,o,i,c]=e[n];t.push({address:s,chainId:Z(r),nonce:Z(a),...bt([o,i,c])})}return t}function bt(e){const t=e.slice(-3),n=t[0]==="0x"||D(t[0])===0n?27n:28n;return{r:Xr(t[1],{size:32}),s:Xr(t[2],{size:32}),v:n,yParity:n===27n?0:1}}class gd extends N{constructor({value:t}){super(`Number \`${t}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}function Ao(e,t){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(e))throw new gd({value:e});let[n,r="0"]=e.split(".");const s=n.startsWith("-");if(s&&(n=n.slice(1)),r=r.replace(/(0+)$/,""),t===0)Math.round(+`.${r}`)===1&&(n=`${BigInt(n)+1n}`),r="";else if(r.length>t){const[a,o,i]=[r.slice(0,t-1),r.slice(t-1,t),r.slice(t)],c=Math.round(+`${o}.${i}`);c>9?r=`${BigInt(a)+BigInt(1)}0`.padStart(a.length+1,"0"):r=`${a}${c}`,r.length>t&&(r=r.slice(1),n=`${BigInt(n)+1n}`),r=r.slice(0,t)}else r=r.padEnd(t,"0");return BigInt(`${s?"-":""}${n}${r}`)}function p0(e,t="wei"){return Ao(e,fa[t])}function m0(e,t="wei"){return Ao(e,la[t])}function wd(e){const{source:t}=e,n=new Map,r=new br(8192),s=new Map,a=({address:o,chainId:i})=>`${o}.${i}`;return{async consume({address:o,chainId:i,client:c}){const d=a({address:o,chainId:i}),u=this.get({address:o,chainId:i,client:c});this.increment({address:o,chainId:i});const l=await u;return await t.set({address:o,chainId:i},l),r.set(d,l),l},async increment({address:o,chainId:i}){const c=a({address:o,chainId:i}),d=n.get(c)??0;n.set(c,d+1)},async get({address:o,chainId:i,client:c}){const d=a({address:o,chainId:i});let u=s.get(d);return u||(u=(async()=>{try{const p=await t.get({address:o,chainId:i,client:c}),f=r.get(d)??0;return f>0&&p<=f?f+1:(r.delete(d),p)}finally{this.reset({address:o,chainId:i})}})(),s.set(d,u)),(n.get(d)??0)+await u},reset({address:o,chainId:i}){const c=a({address:o,chainId:i});n.delete(c),s.delete(c)}}}function xd(){return{async get(e){const{address:t,client:n}=e;return en(n,{address:t,blockTag:"pending"})},set(){}}}const h0=wd({source:xd()});function vd(e){return e.map(t=>({...t,value:BigInt(t.value)}))}function Ed(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?Z(e.nonce):void 0,storageProof:e.storageProof?vd(e.storageProof):void 0}}async function Td(e,{address:t,blockNumber:n,blockTag:r,storageKeys:s}){const a=r??"latest",o=n!==void 0?$(n):void 0,i=await e.request({method:"eth_getProof",params:[t,s,o||a]});return Ed(i)}async function Pd(e,{address:t,blockNumber:n,blockTag:r="latest",slot:s}){const a=n!==void 0?$(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,s,a||r]})}async function Hr(e,{blockHash:t,blockNumber:n,blockTag:r,hash:s,index:a}){var u,l,p;const o=r||"latest",i=n!==void 0?$(n):void 0;let c=null;if(s?c=await e.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):t?c=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,$(a)]},{dedupe:!0}):c=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[i||o,$(a)]},{dedupe:!!i}),!c)throw new ha({blockHash:t,blockNumber:n,blockTag:o,hash:s,index:a});return(((p=(l=(u=e.chain)==null?void 0:u.formatters)==null?void 0:l.transaction)==null?void 0:p.format)||di)(c)}async function Id(e,{hash:t,transactionReceipt:n}){const[r,s]=await Promise.all([M(e,ht,"getBlockNumber")({}),t?M(e,Hr,"getTransaction")({hash:t}):void 0]),a=(n==null?void 0:n.blockNumber)||(s==null?void 0:s.blockNumber);return a?r-a+1n:0n}async function Rt(e,{hash:t}){var s,a,o;const n=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!n)throw new ya({hash:t});return(((o=(a=(s=e.chain)==null?void 0:s.formatters)==null?void 0:a.transactionReceipt)==null?void 0:o.format)||fi)(n)}async function Ad(e,t){var y;const{account:n,allowFailure:r=!0,batchSize:s,blockNumber:a,blockTag:o,multicallAddress:i,stateOverride:c}=t,d=t.contracts,u=s??(typeof((y=e.batch)==null?void 0:y.multicall)=="object"&&e.batch.multicall.batchSize||1024);let l=i;if(!l){if(!e.chain)throw new Error("client chain not configured. multicallAddress is required.");l=Xe({blockNumber:a,chain:e.chain,contract:"multicall3"})}const p=[[]];let f=0,m=0;for(let b=0;b<d.length;b++){const{abi:v,address:S,args:E,functionName:k}=d[b];try{const B=ie({abi:v,args:E,functionName:k});m+=(B.length-2)/2,u>0&&m>u&&p[f].length>0&&(f++,m=(B.length-2)/2,p[f]=[]),p[f]=[...p[f],{allowFailure:!0,callData:B,target:S}]}catch(B){const I=Re(B,{abi:v,address:S,args:E,docsPath:"/docs/contract/multicall",functionName:k,sender:n});if(!r)throw I;p[f]=[...p[f],{allowFailure:!0,callData:"0x",target:S}]}}const h=await Promise.allSettled(p.map(b=>M(e,me,"readContract")({abi:Qn,account:n,address:l,args:[b],blockNumber:a,blockTag:o,functionName:"aggregate3",stateOverride:c}))),g=[];for(let b=0;b<h.length;b++){const v=h[b];if(v.status==="rejected"){if(!r)throw v.reason;for(let E=0;E<p[b].length;E++)g.push({status:"failure",error:v.reason,result:void 0});continue}const S=v.value;for(let E=0;E<S.length;E++){const{returnData:k,success:B}=S[E],{callData:I}=p[b][E],{abi:w,address:P,functionName:x,args:T}=d[g.length];try{if(I==="0x")throw new pr;if(!B)throw new Xt({data:k});const C=Le({abi:w,args:T,data:k,functionName:x});g.push(r?{result:C,status:"success"}:C)}catch(C){const R=Re(C,{abi:w,address:P,args:T,docsPath:"/docs/contract/multicall",functionName:x});if(!r)throw R;g.push({error:R,result:void 0,status:"failure"})}}}if(g.length!==d.length)throw new N("multicall results mismatch");return g}async function sr(e,t){const{blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",blocks:s,returnFullTransactions:a,traceTransfers:o,validation:i}=t;try{const c=[];for(const p of s){const f=p.blockOverrides?La(p.blockOverrides):void 0,m=p.calls.map(g=>{const y=g,b=y.account?Y(y.account):void 0,v=y.abi?ie(y):y.data,S={...y,data:y.dataSuffix?$e([v||"0x",y.dataSuffix]):v,from:y.from??(b==null?void 0:b.address)};return Oe(S),ze(S)}),h=p.stateOverrides?vr(p.stateOverrides):void 0;c.push({blockOverrides:f,calls:m,stateOverrides:h})}const u=(typeof n=="bigint"?$(n):void 0)||r;return(await e.request({method:"eth_simulateV1",params:[{blockStateCalls:c,returnFullTransactions:a,traceTransfers:o,validation:i},u]})).map((p,f)=>({...ea(p),calls:p.calls.map((m,h)=>{var P,x;const{abi:g,args:y,functionName:b,to:v}=s[f].calls[h],S=((P=m.error)==null?void 0:P.data)??m.returnData,E=BigInt(m.gasUsed),k=(x=m.logs)==null?void 0:x.map(T=>Te(T)),B=m.status==="0x1"?"success":"failure",I=g&&B==="success"&&S!=="0x"?Le({abi:g,data:S,functionName:b}):null,w=(()=>{var C;if(B==="success")return;let T;if(((C=m.error)==null?void 0:C.data)==="0x"?T=new pr:m.error&&(T=new Xt(m.error)),!!T)return Re(T,{abi:g??[],address:v??"0x",args:y,functionName:b??"<unknown>"})})();return{data:S,gasUsed:E,logs:k,status:B,...B==="success"?{result:I}:{error:w}}})}))}catch(c){const d=c,u=Qt(d,{});throw u instanceof lt?d:u}}function So(e,t={}){const{as:n=typeof e=="string"?"Hex":"Bytes"}=t,r=li(mc(e));return n==="Bytes"?r:za(r)}class Sd extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const Bd={checksum:new Sd(8192)},kn=Bd.checksum,Cd=/^0x[a-fA-F0-9]{40}$/;function bn(e,t={}){const{strict:n=!0}=t;if(!Cd.test(e))throw new Gs({address:e,cause:new $d});if(n){if(e.toLowerCase()===e)return;if(kd(e)!==e)throw new Gs({address:e,cause:new Nd})}}function kd(e){if(kn.has(e))return kn.get(e);bn(e,{strict:!1});const t=e.substring(2).toLowerCase(),n=So(bc(t),{as:"Bytes"}),r=t.split("");for(let a=0;a<40;a+=2)n[a>>1]>>4>=8&&r[a]&&(r[a]=r[a].toUpperCase()),(n[a>>1]&15)>=8&&r[a+1]&&(r[a+1]=r[a+1].toUpperCase());const s=`0x${r.join("")}`;return kn.set(e,s),s}function ar(e,t={}){const{strict:n=!0}=t??{};try{return bn(e,{strict:n}),!0}catch{return!1}}class Gs extends V{constructor({address:t,cause:n}){super(`Address "${t}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class $d extends V{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class Nd extends V{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}function or(e){let t=!0,n="",r=0,s="",a=!1;for(let o=0;o<e.length;o++){const i=e[o];if(["(",")",","].includes(i)&&(t=!0),i==="("&&r++,i===")"&&r--,!!t){if(r===0){if(i===" "&&["event","function","error",""].includes(s))s="";else if(s+=i,i===")"){a=!0;break}continue}if(i===" "){e[o-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=i,n+=i}}if(!a)throw new V("Unable to normalize signature.");return s}function ir(e,t){const n=typeof e,r=t.type;switch(r){case"address":return ar(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,a)=>ir(Object.values(e)[a],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>ir(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Bo(e,t,n){for(const r in e){const s=e[r],a=t[r];if(s.type==="tuple"&&a.type==="tuple"&&"components"in s&&"components"in a)return Bo(s.components,a.components,n[r]);const o=[s.type,a.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?ar(n[r],{strict:!1}):o.includes("address")&&o.includes("bytes")?ar(n[r],{strict:!1}):!1)return o}}function Co(e,t={}){const{prepare:n=!0}=t,r=Array.isArray(e)?Qr(e):typeof e=="string"?Qr(e):e;return{...r,...n?{hash:He(r)}:{}}}function Rd(e,t,n){const{args:r=[],prepare:s=!0}=n??{},a=Pc(t,{strict:!1}),o=e.filter(d=>a?d.type==="function"||d.type==="error"?ko(d)===Mr(t,0,4):d.type==="event"?He(d)===t:!1:"name"in d&&d.name===t);if(o.length===0)throw new cr({name:t});if(o.length===1)return{...o[0],...s?{hash:He(o[0])}:{}};let i;for(const d of o){if(!("inputs"in d))continue;if(!r||r.length===0){if(!d.inputs||d.inputs.length===0)return{...d,...s?{hash:He(d)}:{}};continue}if(!d.inputs||d.inputs.length===0||d.inputs.length!==r.length)continue;if(r.every((l,p)=>{const f="inputs"in d&&d.inputs[p];return f?ir(l,f):!1})){if(i&&"inputs"in i&&i.inputs){const l=Bo(d.inputs,i.inputs,r);if(l)throw new _d({abiItem:d,type:l[0]},{abiItem:i,type:l[1]})}i=d}}const c=(()=>{if(i)return i;const[d,...u]=o;return{...d,overloads:u}})();if(!c)throw new cr({name:t});return{...c,...s?{hash:He(c)}:{}}}function ko(e){return Mr(He(e),0,4)}function Fd(e){const t=typeof e=="string"?e:Mn(e);return or(t)}function He(e){return typeof e!="string"&&"hash"in e&&e.hash?e.hash:So(_r(Fd(e)))}class _d extends V{constructor(t,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${t.type}\` in \`${or(Mn(t.abiItem))}\`, and`,`\`${n.type}\` in \`${or(Mn(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class cr extends V{constructor({name:t,data:n,type:r="item"}){const s=t?` with name "${t}"`:n?` with data "${n}"`:"";super(`ABI ${r}${s} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}const Md=/^(.*)\[([0-9]*)\]$/,zd=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,$o=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function qd({checksumAddress:e,parameters:t,values:n}){const r=[];for(let s=0;s<t.length;s++)r.push(Vr({checksumAddress:e,parameter:t[s],value:n[s]}));return r}function Vr({checksumAddress:e=!1,parameter:t,value:n}){const r=t,s=Vd(r.type);if(s){const[a,o]=s;return Ld(n,{checksumAddress:e,length:a,parameter:{...r,type:o}})}if(r.type==="tuple")return Hd(n,{checksumAddress:e,parameter:r});if(r.type==="address")return Od(n,{checksum:e});if(r.type==="bool")return Dd(n);if(r.type.startsWith("uint")||r.type.startsWith("int")){const a=r.type.startsWith("int"),[,,o="256"]=$o.exec(r.type)??[];return jd(n,{signed:a,size:Number(o)})}if(r.type.startsWith("bytes"))return Gd(n,{type:r.type});if(r.type==="string")return Ud(n);throw new _o(r.type)}function Wr(e){let t=0;for(let a=0;a<e.length;a++){const{dynamic:o,encoded:i}=e[a];o?t+=32:t+=oe(i)}const n=[],r=[];let s=0;for(let a=0;a<e.length;a++){const{dynamic:o,encoded:i}=e[a];o?(n.push(X(t+s,{size:32})),r.push(i),s+=oe(i)):n.push(i)}return pe(...n,...r)}function Od(e,t){const{checksum:n=!1}=t;return bn(e,{strict:n}),{dynamic:!1,encoded:_e(e.toLowerCase())}}function Ld(e,t){const{checksumAddress:n,length:r,parameter:s}=t,a=r===null;if(!Array.isArray(e))throw new Zd(e);if(!a&&e.length!==r)throw new Wd({expectedLength:r,givenLength:e.length,type:`${s.type}[${r}]`});let o=!1;const i=[];for(let c=0;c<e.length;c++){const d=Vr({checksumAddress:n,parameter:s,value:e[c]});d.dynamic&&(o=!0),i.push(d)}if(a||o){const c=Wr(i);if(a){const d=X(i.length,{size:32});return{dynamic:!0,encoded:i.length>0?pe(d,c):d}}if(o)return{dynamic:!0,encoded:c}}return{dynamic:!1,encoded:pe(...i.map(({encoded:c})=>c))}}function Gd(e,{type:t}){const[,n]=t.split("bytes"),r=oe(e);if(!n){let s=e;return r%32!==0&&(s=Me(s,Math.ceil((e.length-2)/2/32)*32)),{dynamic:!0,encoded:pe(_e(X(r,{size:32})),s)}}if(r!==Number.parseInt(n))throw new Ro({expectedSize:Number.parseInt(n),value:e});return{dynamic:!1,encoded:Me(e)}}function Dd(e){if(typeof e!="boolean")throw new V(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:_e(Ma(e))}}function jd(e,{signed:t,size:n}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,s=t?-r-1n:0n;if(e>r||e<s)throw new qa({max:r.toString(),min:s.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:X(e,{size:32,signed:t})}}function Ud(e){const t=_r(e),n=Math.ceil(oe(t)/32),r=[];for(let s=0;s<n;s++)r.push(Me(Mr(t,s*32,(s+1)*32)));return{dynamic:!0,encoded:pe(Me(X(oe(t),{size:32})),...r)}}function Hd(e,t){const{checksumAddress:n,parameter:r}=t;let s=!1;const a=[];for(let o=0;o<r.components.length;o++){const i=r.components[o],c=Array.isArray(e)?o:i.name,d=Vr({checksumAddress:n,parameter:i,value:e[c]});a.push(d),d.dynamic&&(s=!0)}return{dynamic:s,encoded:s?Wr(a):pe(...a.map(({encoded:o})=>o))}}function Vd(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function No(e,t,n){const{checksumAddress:r=!1}={};if(e.length!==t.length)throw new Fo({expectedLength:e.length,givenLength:t.length});const s=qd({checksumAddress:r,parameters:e,values:t}),a=Wr(s);return a.length===0?"0x":a}function ur(e,t){if(e.length!==t.length)throw new Fo({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const s=e[r],a=t[r];n.push(ur.encode(s,a))}return pe(...n)}(function(e){function t(n,r,s=!1){if(n==="address"){const c=r;return bn(c),_e(c.toLowerCase(),s?32:0)}if(n==="string")return _r(r);if(n==="bytes")return r;if(n==="bool")return _e(Ma(r),s?32:1);const a=n.match($o);if(a){const[c,d,u="256"]=a,l=Number.parseInt(u)/8;return X(r,{size:s?32:l,signed:d==="int"})}const o=n.match(zd);if(o){const[c,d]=o;if(Number.parseInt(d)!==(r.length-2)/2)throw new Ro({expectedSize:Number.parseInt(d),value:r});return Me(r,s?32:0)}const i=n.match(Md);if(i&&Array.isArray(r)){const[c,d]=i,u=[];for(let l=0;l<r.length;l++)u.push(t(d,r[l],!0));return u.length===0?"0x":pe(...u)}throw new _o(n)}e.encode=t})(ur||(ur={}));class Wd extends V{constructor({expectedLength:t,givenLength:n,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${t}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class Ro extends V{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${oe(n)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class Fo extends V{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${t}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class Zd extends V{constructor(t){super(`Value \`${t}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class _o extends V{constructor(t){super(`Type \`${t}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}function Kd(e,t){var s;const{bytecode:n,args:r}=t;return pe(n,(s=e.inputs)!=null&&s.length&&(r!=null&&r.length)?No(e.inputs,r):"0x")}function Yd(e){return Co(e)}function Jd(e,...t){const{overloads:n}=e,r=n?Xd([e,...n],e.name,{args:t[0]}):e,s=Qd(r),a=t.length>0?No(r.inputs,t[0]):void 0;return a?pe(s,a):s}function Ue(e,t={}){return Co(e,t)}function Xd(e,t,n){const r=Rd(e,t,n);if(r.type!=="function")throw new cr({name:t,type:"function"});return r}function Qd(e){return ko(e)}const ef="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",ue="0x0000000000000000000000000000000000000000",tf="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function nf(e,t){const{blockNumber:n,blockTag:r,calls:s,stateOverrides:a,traceAssetChanges:o,traceTransfers:i,validation:c}=t,d=t.account?Y(t.account):void 0;if(o&&!d)throw new N("`account` is required when `traceAssetChanges` is true");const u=d?Kd(Yd("constructor(bytes, bytes)"),{bytecode:ja,args:[tf,Jd(Ue("function getBalance(address)"),[d.address])]}):void 0,l=o?await Promise.all(t.calls.map(async A=>{if(!A.data&&!A.abi)return;const{accessList:O}=await io(e,{account:d.address,...A,data:A.abi?ie(A):A.data});return O.map(({address:L,storageKeys:q})=>q.length>0?L:null)})).then(A=>A.flat().filter(Boolean)):[],p=await sr(e,{blockNumber:n,blockTag:r,blocks:[...o?[{calls:[{data:u}],stateOverrides:a},{calls:l.map((A,O)=>({abi:[Ue("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[d.address],to:A,from:ue,nonce:O})),stateOverrides:[{address:ue,nonce:0}]}]:[],{calls:[...s,{}].map(A=>({...A,from:d==null?void 0:d.address})),stateOverrides:a},...o?[{calls:[{data:u}]},{calls:l.map((A,O)=>({abi:[Ue("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[d.address],to:A,from:ue,nonce:O})),stateOverrides:[{address:ue,nonce:0}]},{calls:l.map((A,O)=>({to:A,abi:[Ue("function decimals() returns (uint256)")],functionName:"decimals",from:ue,nonce:O})),stateOverrides:[{address:ue,nonce:0}]},{calls:l.map((A,O)=>({to:A,abi:[Ue("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:ue,nonce:O})),stateOverrides:[{address:ue,nonce:0}]},{calls:l.map((A,O)=>({to:A,abi:[Ue("function symbol() returns (string)")],functionName:"symbol",from:ue,nonce:O})),stateOverrides:[{address:ue,nonce:0}]}]:[]],traceTransfers:i,validation:c}),f=o?p[2]:p[0],[m,h,,g,y,b,v,S]=o?p:[],{calls:E,...k}=f,B=E.slice(0,-1)??[],I=(m==null?void 0:m.calls)??[],w=(h==null?void 0:h.calls)??[],P=[...I,...w].map(A=>A.status==="success"?D(A.data):null),x=(g==null?void 0:g.calls)??[],T=(y==null?void 0:y.calls)??[],C=[...x,...T].map(A=>A.status==="success"?D(A.data):null),R=((b==null?void 0:b.calls)??[]).map(A=>A.status==="success"?A.result:null),F=((S==null?void 0:S.calls)??[]).map(A=>A.status==="success"?A.result:null),_=((v==null?void 0:v.calls)??[]).map(A=>A.status==="success"?A.result:null),z=[];for(const[A,O]of C.entries()){const L=P[A];if(typeof O!="bigint"||typeof L!="bigint")continue;const q=R[A-1],W=F[A-1],U=_[A-1],K=A===0?{address:ef,decimals:18,symbol:"ETH"}:{address:l[A-1],decimals:U||q?Number(q??1):void 0,symbol:W??void 0};z.some(j=>j.token.address===K.address)||z.push({token:K,value:{pre:L,post:O,diff:O-L}})}return{assetChanges:z,block:k,results:B}}class Mo extends pi{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,mi(t);const r=hi(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,a=new Uint8Array(s);a.set(r.length>s?t.create().update(r).digest():r);for(let o=0;o<a.length;o++)a[o]^=54;this.iHash.update(a),this.oHash=t.create();for(let o=0;o<a.length;o++)a[o]^=106;this.oHash.update(a),_n(a)}update(t){return es(this),this.iHash.update(t),this}digestInto(t){es(this),zt(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:a,blockLen:o,outputLen:i}=this;return t=t,t.finished=s,t.destroyed=a,t.blockLen=o,t.outputLen=i,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const zo=(e,t,n)=>new Mo(e,t).update(n).digest();zo.create=(e,t)=>new Mo(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ee=BigInt(0),Q=BigInt(1),Be=BigInt(2),rf=BigInt(3),qo=BigInt(4),Oo=BigInt(5),Lo=BigInt(8);function ae(e,t){const n=e%t;return n>=ee?n:t+n}function re(e,t,n){let r=e;for(;t-- >ee;)r*=r,r%=n;return r}function Ds(e,t){if(e===ee)throw new Error("invert: expected non-zero number");if(t<=ee)throw new Error("invert: expected positive modulus, got "+t);let n=ae(e,t),r=t,s=ee,a=Q;for(;n!==ee;){const i=r/n,c=r%n,d=s-a*i;r=n,n=c,s=a,a=d}if(r!==Q)throw new Error("invert: does not exist");return ae(s,t)}function Go(e,t){const n=(e.ORDER+Q)/qo,r=e.pow(t,n);if(!e.eql(e.sqr(r),t))throw new Error("Cannot find square root");return r}function sf(e,t){const n=(e.ORDER-Oo)/Lo,r=e.mul(t,Be),s=e.pow(r,n),a=e.mul(t,s),o=e.mul(e.mul(a,Be),s),i=e.mul(a,e.sub(o,e.ONE));if(!e.eql(e.sqr(i),t))throw new Error("Cannot find square root");return i}function af(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-Q,n=0;for(;t%Be===ee;)t/=Be,n++;let r=Be;const s=gn(e);for(;js(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return Go;let a=s.pow(r,t);const o=(t+Q)/Be;return function(c,d){if(c.is0(d))return d;if(js(c,d)!==1)throw new Error("Cannot find square root");let u=n,l=c.mul(c.ONE,a),p=c.pow(d,t),f=c.pow(d,o);for(;!c.eql(p,c.ONE);){if(c.is0(p))return c.ZERO;let m=1,h=c.sqr(p);for(;!c.eql(h,c.ONE);)if(m++,h=c.sqr(h),m===u)throw new Error("Cannot find square root");const g=Q<<BigInt(u-m-1),y=c.pow(l,g);u=m,l=c.sqr(y),p=c.mul(p,l),f=c.mul(f,y)}return f}}function of(e){return e%qo===rf?Go:e%Lo===Oo?sf:af(e)}const cf=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function uf(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=cf.reduce((r,s)=>(r[s]="function",r),t);return Rr(e,n),e}function df(e,t,n){if(n<ee)throw new Error("invalid exponent, negatives unsupported");if(n===ee)return e.ONE;if(n===Q)return t;let r=e.ONE,s=t;for(;n>ee;)n&Q&&(r=e.mul(r,s)),s=e.sqr(s),n>>=Q;return r}function Do(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),s=t.reduce((o,i,c)=>e.is0(i)?o:(r[c]=o,e.mul(o,i)),e.ONE),a=e.inv(s);return t.reduceRight((o,i,c)=>e.is0(i)?o:(r[c]=e.mul(o,r[c]),e.mul(o,i)),a),r}function js(e,t){const n=(e.ORDER-Q)/Be,r=e.pow(t,n),s=e.eql(r,e.ONE),a=e.eql(r,e.ZERO),o=e.eql(r,e.neg(e.ONE));if(!s&&!a&&!o)throw new Error("invalid Legendre symbol result");return s?1:a?0:-1}function ff(e,t){t!==void 0&&yi(t);const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function gn(e,t,n=!1,r={}){if(e<=ee)throw new Error("invalid field: expected ORDER > 0, got "+e);let s,a;if(typeof t=="object"&&t!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const u=t;u.BITS&&(s=u.BITS),u.sqrt&&(a=u.sqrt),typeof u.isLE=="boolean"&&(n=u.isLE)}else typeof t=="number"&&(s=t),r.sqrt&&(a=r.sqrt);const{nBitLength:o,nByteLength:i}=ff(e,s);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let c;const d=Object.freeze({ORDER:e,isLE:n,BITS:o,BYTES:i,MASK:rn(o),ZERO:ee,ONE:Q,create:u=>ae(u,e),isValid:u=>{if(typeof u!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof u);return ee<=u&&u<e},is0:u=>u===ee,isValidNot0:u=>!d.is0(u)&&d.isValid(u),isOdd:u=>(u&Q)===Q,neg:u=>ae(-u,e),eql:(u,l)=>u===l,sqr:u=>ae(u*u,e),add:(u,l)=>ae(u+l,e),sub:(u,l)=>ae(u-l,e),mul:(u,l)=>ae(u*l,e),pow:(u,l)=>df(d,u,l),div:(u,l)=>ae(u*Ds(l,e),e),sqrN:u=>u*u,addN:(u,l)=>u+l,subN:(u,l)=>u-l,mulN:(u,l)=>u*l,inv:u=>Ds(u,e),sqrt:a||(u=>(c||(c=of(e)),c(d,u))),toBytes:u=>n?Ra(u,i):Nr(u,i),fromBytes:u=>{if(u.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+u.length);return n?Na(u):nn(u)},invertBatch:u=>Do(d,u),cmov:(u,l,p)=>p?l:u});return Object.freeze(d)}function jo(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function Uo(e){const t=jo(e);return t+Math.ceil(t/2)}function lf(e,t,n=!1){const r=e.length,s=jo(t),a=Uo(t);if(r<16||r<a||r>1024)throw new Error("expected "+a+"-1024 bytes of input, got "+r);const o=n?Na(e):nn(e),i=ae(o,t-Q)+Q;return n?Ra(i,s):Nr(i,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const We=BigInt(0),Ce=BigInt(1);function nt(e,t){const n=t.negate();return e?n:t}function pf(e,t,n){const r=o=>o.pz,s=Do(e.Fp,n.map(r));return n.map((o,i)=>o.toAffine(s[i])).map(e.fromAffine)}function Ho(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function $n(e,t){Ho(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1),s=2**e,a=rn(e),o=BigInt(e);return{windows:n,windowSize:r,mask:a,maxNumber:s,shiftBy:o}}function Us(e,t,n){const{windowSize:r,mask:s,maxNumber:a,shiftBy:o}=n;let i=Number(e&s),c=e>>o;i>r&&(i-=a,c+=Ce);const d=t*r,u=d+Math.abs(i)-1,l=i===0,p=i<0,f=t%2!==0;return{nextN:c,offset:u,isZero:l,isNeg:p,isNegF:f,offsetF:d}}function mf(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function hf(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const Nn=new WeakMap,Vo=new WeakMap;function Rn(e){return Vo.get(e)||1}function Hs(e){if(e!==We)throw new Error("invalid wNAF")}function yf(e,t){return{constTimeNegate:nt,hasPrecomputes(n){return Rn(n)!==1},unsafeLadder(n,r,s=e.ZERO){let a=n;for(;r>We;)r&Ce&&(s=s.add(a)),a=a.double(),r>>=Ce;return s},precomputeWindow(n,r){const{windows:s,windowSize:a}=$n(r,t),o=[];let i=n,c=i;for(let d=0;d<s;d++){c=i,o.push(c);for(let u=1;u<a;u++)c=c.add(i),o.push(c);i=c.double()}return o},wNAF(n,r,s){let a=e.ZERO,o=e.BASE;const i=$n(n,t);for(let c=0;c<i.windows;c++){const{nextN:d,offset:u,isZero:l,isNeg:p,isNegF:f,offsetF:m}=Us(s,c,i);s=d,l?o=o.add(nt(f,r[m])):a=a.add(nt(p,r[u]))}return Hs(s),{p:a,f:o}},wNAFUnsafe(n,r,s,a=e.ZERO){const o=$n(n,t);for(let i=0;i<o.windows&&s!==We;i++){const{nextN:c,offset:d,isZero:u,isNeg:l}=Us(s,i,o);if(s=c,!u){const p=r[d];a=a.add(l?p.negate():p)}}return Hs(s),a},getPrecomputes(n,r,s){let a=Nn.get(r);return a||(a=this.precomputeWindow(r,n),n!==1&&(typeof s=="function"&&(a=s(a)),Nn.set(r,a))),a},wNAFCached(n,r,s){const a=Rn(n);return this.wNAF(a,this.getPrecomputes(a,n,s),r)},wNAFCachedUnsafe(n,r,s,a){const o=Rn(n);return o===1?this.unsafeLadder(n,r,a):this.wNAFUnsafe(o,this.getPrecomputes(o,n,s),r,a)},setWindowSize(n,r){Ho(r,t),Vo.set(n,r),Nn.delete(n)}}}function bf(e,t,n,r){let s=t,a=e.ZERO,o=e.ZERO;for(;n>We||r>We;)n&Ce&&(a=a.add(s)),r&Ce&&(o=o.add(s)),s=s.double(),n>>=Ce,r>>=Ce;return{p1:a,p2:o}}function gf(e,t,n,r){mf(n,e),hf(r,t);const s=n.length,a=r.length;if(s!==a)throw new Error("arrays of points and scalars must have equal length");const o=e.ZERO,i=rc(BigInt(s));let c=1;i>12?c=i-3:i>4?c=i-2:i>0&&(c=2);const d=rn(c),u=new Array(Number(d)+1).fill(o),l=Math.floor((t.BITS-1)/c)*c;let p=o;for(let f=l;f>=0;f-=c){u.fill(o);for(let h=0;h<a;h++){const g=r[h],y=Number(g>>BigInt(f)&d);u[y]=u[y].add(n[h])}let m=o;for(let h=u.length-1,g=o;h>0;h--)g=g.add(u[h]),m=m.add(g);if(p=p.add(m),f!==0)for(let h=0;h<c;h++)p=p.double()}return p}function Vs(e,t){if(t){if(t.ORDER!==e)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return uf(t),t}else return gn(e)}function wf(e,t,n={}){if(!t||typeof t!="object")throw new Error(`expected valid ${e} CURVE object`);for(const i of["p","n","h"]){const c=t[i];if(!(typeof c=="bigint"&&c>We))throw new Error(`CURVE.${i} must be positive bigint`)}const r=Vs(t.p,n.Fp),s=Vs(t.n,n.Fn),o=["Gx","Gy","a","b"];for(const i of o)if(!r.isValid(t[i]))throw new Error(`CURVE.${i} must be valid field element of CURVE.Fp`);return{Fp:r,Fn:s}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Ws(e){e.lowS!==void 0&&Ht("lowS",e.lowS),e.prehash!==void 0&&Ht("prehash",e.prehash)}class xf extends Error{constructor(t=""){super(t)}}const ye={Err:xf,_tlv:{encode:(e,t)=>{const{Err:n}=ye;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,s=vt(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const a=r>127?vt(s.length/2|128):"";return vt(e)+a+s+t},decode(e,t){const{Err:n}=ye;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const s=t[r++],a=!!(s&128);let o=0;if(!a)o=s;else{const c=s&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const d=t.subarray(r,r+c);if(d.length!==c)throw new n("tlv.decode: length bytes not complete");if(d[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of d)o=o<<8|u;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const i=t.subarray(r,r+o);if(i.length!==o)throw new n("tlv.decode: wrong value length");return{v:i,l:t.subarray(r+o)}}},_int:{encode(e){const{Err:t}=ye;if(e<rt)throw new t("integer: negative integers are not allowed");let n=vt(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=ye;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return nn(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=ye,s=se("signature",e),{v:a,l:o}=r.decode(48,s);if(o.length)throw new t("invalid signature: left bytes after parsing");const{v:i,l:c}=r.decode(2,a),{v:d,l:u}=r.decode(2,c);if(u.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(i),s:n.decode(d)}},hexFromSig(e){const{_tlv:t,_int:n}=ye,r=t.encode(2,n.encode(e.r)),s=t.encode(2,n.encode(e.s)),a=r+s;return t.encode(48,a)}},rt=BigInt(0),st=BigInt(1),vf=BigInt(2),St=BigInt(3),Ef=BigInt(4);function Tf(e,t,n){function r(s){const a=e.sqr(s),o=e.mul(a,s);return e.add(e.add(o,e.mul(s,t)),n)}return r}function Wo(e,t,n){const{BYTES:r}=e;function s(a){let o;if(typeof a=="bigint")o=a;else{let i=se("private key",a);if(t){if(!t.includes(i.length*2))throw new Error("invalid private key");const c=new Uint8Array(r);c.set(i,c.length-i.length),i=c}try{o=e.fromBytes(i)}catch{throw new Error(`invalid private key: expected ui8a of size ${r}, got ${typeof a}`)}}if(n&&(o=e.create(o)),!e.isValidNot0(o))throw new Error("invalid private key: out of range [1..N-1]");return o}return s}function Pf(e,t={}){const{Fp:n,Fn:r}=wf("weierstrass",e,t),{h:s,n:a}=e;Rr(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:o}=t;if(o&&(!n.is0(e.a)||typeof o.beta!="bigint"||typeof o.splitScalar!="function"))throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function');function i(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function c(I,w,P){const{x,y:T}=w.toAffine(),C=n.toBytes(x);if(Ht("isCompressed",P),P){i();const R=!n.isOdd(T);return Ae(Zo(R),C)}else return Ae(Uint8Array.of(4),C,n.toBytes(T))}function d(I){zt(I);const w=n.BYTES,P=w+1,x=2*w+1,T=I.length,C=I[0],R=I.subarray(1);if(T===P&&(C===2||C===3)){const F=n.fromBytes(R);if(!n.isValid(F))throw new Error("bad point: is not on curve, wrong x");const _=p(F);let z;try{z=n.sqrt(_)}catch(L){const q=L instanceof Error?": "+L.message:"";throw new Error("bad point: is not on curve, sqrt error"+q)}i();const A=n.isOdd(z);return(C&1)===1!==A&&(z=n.neg(z)),{x:F,y:z}}else if(T===x&&C===4){const F=n.fromBytes(R.subarray(w*0,w*1)),_=n.fromBytes(R.subarray(w*1,w*2));if(!f(F,_))throw new Error("bad point: is not on curve");return{x:F,y:_}}else throw new Error(`bad point: got length ${T}, expected compressed=${P} or uncompressed=${x}`)}const u=t.toBytes||c,l=t.fromBytes||d,p=Tf(n,e.a,e.b);function f(I,w){const P=n.sqr(w),x=p(I);return n.eql(P,x)}if(!f(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const m=n.mul(n.pow(e.a,St),Ef),h=n.mul(n.sqr(e.b),BigInt(27));if(n.is0(n.add(m,h)))throw new Error("bad curve params: a or b");function g(I,w,P=!1){if(!n.isValid(w)||P&&n.is0(w))throw new Error(`bad point coordinate ${I}`);return w}function y(I){if(!(I instanceof E))throw new Error("ProjectivePoint expected")}const b=As((I,w)=>{const{px:P,py:x,pz:T}=I;if(n.eql(T,n.ONE))return{x:P,y:x};const C=I.is0();w==null&&(w=C?n.ONE:n.inv(T));const R=n.mul(P,w),F=n.mul(x,w),_=n.mul(T,w);if(C)return{x:n.ZERO,y:n.ZERO};if(!n.eql(_,n.ONE))throw new Error("invZ was invalid");return{x:R,y:F}}),v=As(I=>{if(I.is0()){if(t.allowInfinityPoint&&!n.is0(I.py))return;throw new Error("bad point: ZERO")}const{x:w,y:P}=I.toAffine();if(!n.isValid(w)||!n.isValid(P))throw new Error("bad point: x or y not field elements");if(!f(w,P))throw new Error("bad point: equation left != right");if(!I.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function S(I,w,P,x,T){return P=new E(n.mul(P.px,I),P.py,P.pz),w=nt(x,w),P=nt(T,P),w.add(P)}class E{constructor(w,P,x){this.px=g("x",w),this.py=g("y",P,!0),this.pz=g("z",x),Object.freeze(this)}static fromAffine(w){const{x:P,y:x}=w||{};if(!w||!n.isValid(P)||!n.isValid(x))throw new Error("invalid affine point");if(w instanceof E)throw new Error("projective point not allowed");return n.is0(P)&&n.is0(x)?E.ZERO:new E(P,x,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(w){return pf(E,"pz",w)}static fromBytes(w){return zt(w),E.fromHex(w)}static fromHex(w){const P=E.fromAffine(l(se("pointHex",w)));return P.assertValidity(),P}static fromPrivateKey(w){const P=Wo(r,t.allowedPrivateKeyLengths,t.wrapPrivateKey);return E.BASE.multiply(P(w))}static msm(w,P){return gf(E,r,w,P)}precompute(w=8,P=!0){return B.setWindowSize(this,w),P||this.multiply(St),this}_setWindowSize(w){this.precompute(w)}assertValidity(){v(this)}hasEvenY(){const{y:w}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(w)}equals(w){y(w);const{px:P,py:x,pz:T}=this,{px:C,py:R,pz:F}=w,_=n.eql(n.mul(P,F),n.mul(C,T)),z=n.eql(n.mul(x,F),n.mul(R,T));return _&&z}negate(){return new E(this.px,n.neg(this.py),this.pz)}double(){const{a:w,b:P}=e,x=n.mul(P,St),{px:T,py:C,pz:R}=this;let F=n.ZERO,_=n.ZERO,z=n.ZERO,A=n.mul(T,T),O=n.mul(C,C),L=n.mul(R,R),q=n.mul(T,C);return q=n.add(q,q),z=n.mul(T,R),z=n.add(z,z),F=n.mul(w,z),_=n.mul(x,L),_=n.add(F,_),F=n.sub(O,_),_=n.add(O,_),_=n.mul(F,_),F=n.mul(q,F),z=n.mul(x,z),L=n.mul(w,L),q=n.sub(A,L),q=n.mul(w,q),q=n.add(q,z),z=n.add(A,A),A=n.add(z,A),A=n.add(A,L),A=n.mul(A,q),_=n.add(_,A),L=n.mul(C,R),L=n.add(L,L),A=n.mul(L,q),F=n.sub(F,A),z=n.mul(L,O),z=n.add(z,z),z=n.add(z,z),new E(F,_,z)}add(w){y(w);const{px:P,py:x,pz:T}=this,{px:C,py:R,pz:F}=w;let _=n.ZERO,z=n.ZERO,A=n.ZERO;const O=e.a,L=n.mul(e.b,St);let q=n.mul(P,C),W=n.mul(x,R),U=n.mul(T,F),K=n.add(P,x),j=n.add(C,R);K=n.mul(K,j),j=n.add(q,W),K=n.sub(K,j),j=n.add(P,T);let H=n.add(C,F);return j=n.mul(j,H),H=n.add(q,U),j=n.sub(j,H),H=n.add(x,T),_=n.add(R,F),H=n.mul(H,_),_=n.add(W,U),H=n.sub(H,_),A=n.mul(O,j),_=n.mul(L,U),A=n.add(_,A),_=n.sub(W,A),A=n.add(W,A),z=n.mul(_,A),W=n.add(q,q),W=n.add(W,q),U=n.mul(O,U),j=n.mul(L,j),W=n.add(W,U),U=n.sub(q,U),U=n.mul(O,U),j=n.add(j,U),q=n.mul(W,j),z=n.add(z,q),q=n.mul(H,j),_=n.mul(K,_),_=n.sub(_,q),q=n.mul(K,W),A=n.mul(H,A),A=n.add(A,q),new E(_,z,A)}subtract(w){return this.add(w.negate())}is0(){return this.equals(E.ZERO)}multiply(w){const{endo:P}=t;if(!r.isValidNot0(w))throw new Error("invalid scalar: out of range");let x,T;const C=R=>B.wNAFCached(this,R,E.normalizeZ);if(P){const{k1neg:R,k1:F,k2neg:_,k2:z}=P.splitScalar(w),{p:A,f:O}=C(F),{p:L,f:q}=C(z);T=O.add(q),x=S(P.beta,A,L,R,_)}else{const{p:R,f:F}=C(w);x=R,T=F}return E.normalizeZ([x,T])[0]}multiplyUnsafe(w){const{endo:P}=t,x=this;if(!r.isValid(w))throw new Error("invalid scalar: out of range");if(w===rt||x.is0())return E.ZERO;if(w===st)return x;if(B.hasPrecomputes(this))return this.multiply(w);if(P){const{k1neg:T,k1:C,k2neg:R,k2:F}=P.splitScalar(w),{p1:_,p2:z}=bf(E,x,C,F);return S(P.beta,_,z,T,R)}else return B.wNAFCachedUnsafe(x,w)}multiplyAndAddUnsafe(w,P,x){const T=this.multiplyUnsafe(P).add(w.multiplyUnsafe(x));return T.is0()?void 0:T}toAffine(w){return b(this,w)}isTorsionFree(){const{isTorsionFree:w}=t;return s===st?!0:w?w(E,this):B.wNAFCachedUnsafe(this,a).is0()}clearCofactor(){const{clearCofactor:w}=t;return s===st?this:w?w(E,this):this.multiplyUnsafe(s)}toBytes(w=!0){return Ht("isCompressed",w),this.assertValidity(),u(E,this,w)}toRawBytes(w=!0){return this.toBytes(w)}toHex(w=!0){return at(this.toBytes(w))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}E.BASE=new E(e.Gx,e.Gy,n.ONE),E.ZERO=new E(n.ZERO,n.ONE,n.ZERO),E.Fp=n,E.Fn=r;const k=r.BITS,B=yf(E,t.endo?Math.ceil(k/2):k);return E}function Zo(e){return Uint8Array.of(e?2:3)}function If(e,t,n={}){Rr(t,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=t.randomBytes||bi,s=t.hmac||((x,...T)=>zo(t.hash,x,Ae(...T))),{Fp:a,Fn:o}=e,{ORDER:i,BITS:c}=o;function d(x){const T=i>>st;return x>T}function u(x){return d(x)?o.neg(x):x}function l(x,T){if(!o.isValidNot0(T))throw new Error(`invalid signature ${x}: out of range 1..CURVE.n`)}class p{constructor(T,C,R){l("r",T),l("s",C),this.r=T,this.s=C,R!=null&&(this.recovery=R),Object.freeze(this)}static fromCompact(T){const C=o.BYTES,R=se("compactSignature",T,C*2);return new p(o.fromBytes(R.subarray(0,C)),o.fromBytes(R.subarray(C,C*2)))}static fromDER(T){const{r:C,s:R}=ye.toSig(se("DER",T));return new p(C,R)}assertValidity(){}addRecoveryBit(T){return new p(this.r,this.s,T)}recoverPublicKey(T){const C=a.ORDER,{r:R,s:F,recovery:_}=this;if(_==null||![0,1,2,3].includes(_))throw new Error("recovery id invalid");if(i*vf<C&&_>1)throw new Error("recovery id is ambiguous for h>1 curve");const A=_===2||_===3?R+i:R;if(!a.isValid(A))throw new Error("recovery id 2 or 3 invalid");const O=a.toBytes(A),L=e.fromHex(Ae(Zo((_&1)===0),O)),q=o.inv(A),W=v(se("msgHash",T)),U=o.create(-W*q),K=o.create(F*q),j=e.BASE.multiplyUnsafe(U).add(L.multiplyUnsafe(K));if(j.is0())throw new Error("point at infinify");return j.assertValidity(),j}hasHighS(){return d(this.s)}normalizeS(){return this.hasHighS()?new p(this.r,o.neg(this.s),this.recovery):this}toBytes(T){if(T==="compact")return Ae(o.toBytes(this.r),o.toBytes(this.s));if(T==="der")return yr(ye.hexFromSig(this));throw new Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return at(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return at(this.toBytes("compact"))}}const f=Wo(o,n.allowedPrivateKeyLengths,n.wrapPrivateKey),m={isValidPrivateKey(x){try{return f(x),!0}catch{return!1}},normPrivateKeyToScalar:f,randomPrivateKey:()=>{const x=i;return lf(r(Uo(x)),x)},precompute(x=8,T=e.BASE){return T.precompute(x,!1)}};function h(x,T=!0){return e.fromPrivateKey(x).toBytes(T)}function g(x){if(typeof x=="bigint")return!1;if(x instanceof e)return!0;const C=se("key",x).length,R=a.BYTES,F=R+1,_=2*R+1;if(!(n.allowedPrivateKeyLengths||o.BYTES===F))return C===F||C===_}function y(x,T,C=!0){if(g(x)===!0)throw new Error("first arg must be private key");if(g(T)===!1)throw new Error("second arg must be public key");return e.fromHex(T).multiply(f(x)).toBytes(C)}const b=t.bits2int||function(x){if(x.length>8192)throw new Error("input is too large");const T=nn(x),C=x.length*8-c;return C>0?T>>BigInt(C):T},v=t.bits2int_modN||function(x){return o.create(b(x))},S=rn(c);function E(x){return nc("num < 2^"+c,x,rt,S),o.toBytes(x)}function k(x,T,C=B){if(["recovered","canonical"].some(K=>K in C))throw new Error("sign() legacy options not supported");const{hash:R}=t;let{lowS:F,prehash:_,extraEntropy:z}=C;F==null&&(F=!0),x=se("msgHash",x),Ws(C),_&&(x=se("prehashed msgHash",R(x)));const A=v(x),O=f(T),L=[E(O),E(A)];if(z!=null&&z!==!1){const K=z===!0?r(a.BYTES):z;L.push(se("extraEntropy",K))}const q=Ae(...L),W=A;function U(K){const j=b(K);if(!o.isValidNot0(j))return;const H=o.inv(j),et=e.BASE.multiply(j).toAffine(),De=o.create(et.x);if(De===rt)return;const Ie=o.create(H*o.create(W+De*O));if(Ie===rt)return;let wn=(et.x===De?0:2)|Number(et.y&st),je=Ie;return F&&d(Ie)&&(je=u(Ie),wn^=1),new p(De,je,wn)}return{seed:q,k2sig:U}}const B={lowS:t.lowS,prehash:!1},I={lowS:t.lowS,prehash:!1};function w(x,T,C=B){const{seed:R,k2sig:F}=k(x,T,C);return sc(t.hash.outputLen,o.BYTES,s)(R,F)}e.BASE.precompute(8);function P(x,T,C,R=I){const F=x;T=se("msgHash",T),C=se("publicKey",C),Ws(R);const{lowS:_,prehash:z,format:A}=R;if("strict"in R)throw new Error("options.strict was renamed to lowS");if(A!==void 0&&!["compact","der","js"].includes(A))throw new Error('format must be "compact", "der" or "js"');const O=typeof F=="string"||na(F),L=!O&&!A&&typeof F=="object"&&F!==null&&typeof F.r=="bigint"&&typeof F.s=="bigint";if(!O&&!L)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let q,W;try{if(L)if(A===void 0||A==="js")q=new p(F.r,F.s);else throw new Error("invalid format");if(O){try{A!=="compact"&&(q=p.fromDER(F))}catch(je){if(!(je instanceof ye.Err))throw je}!q&&A!=="der"&&(q=p.fromCompact(F))}W=e.fromHex(C)}catch{return!1}if(!q||_&&q.hasHighS())return!1;z&&(T=t.hash(T));const{r:U,s:K}=q,j=v(T),H=o.inv(K),et=o.create(j*H),De=o.create(U*H),Ie=e.BASE.multiplyUnsafe(et).add(W.multiplyUnsafe(De));return Ie.is0()?!1:o.create(Ie.x)===U}return Object.freeze({getPublicKey:h,getSharedSecret:y,sign:w,verify:P,utils:m,Point:e,Signature:p})}function Af(e){const t={a:e.a,b:e.b,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},n=e.Fp,r=gn(t.n,e.nBitLength),s={Fp:n,Fn:r,allowedPrivateKeyLengths:e.allowedPrivateKeyLengths,allowInfinityPoint:e.allowInfinityPoint,endo:e.endo,wrapPrivateKey:e.wrapPrivateKey,isTorsionFree:e.isTorsionFree,clearCofactor:e.clearCofactor,fromBytes:e.fromBytes,toBytes:e.toBytes};return{CURVE:t,curveOpts:s}}function Sf(e){const{CURVE:t,curveOpts:n}=Af(e),r={hash:e.hash,hmac:e.hmac,randomBytes:e.randomBytes,lowS:e.lowS,bits2int:e.bits2int,bits2int_modN:e.bits2int_modN};return{CURVE:t,curveOpts:n,ecdsaOpts:r}}function Bf(e,t){return Object.assign({},t,{ProjectivePoint:t.Point,CURVE:e})}function Cf(e){const{CURVE:t,curveOpts:n,ecdsaOpts:r}=Sf(e),s=Pf(t,n),a=If(s,r,n);return Bf(e,a)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function kf(e,t){const n=r=>Cf({...e,hash:r});return{...n(t),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Zt={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")};BigInt(0);const $f=BigInt(1),dr=BigInt(2),Zs=(e,t)=>(e+t/dr)/t;function Nf(e){const t=Zt.p,n=BigInt(3),r=BigInt(6),s=BigInt(11),a=BigInt(22),o=BigInt(23),i=BigInt(44),c=BigInt(88),d=e*e*e%t,u=d*d*e%t,l=re(u,n,t)*u%t,p=re(l,n,t)*u%t,f=re(p,dr,t)*d%t,m=re(f,s,t)*f%t,h=re(m,a,t)*m%t,g=re(h,i,t)*h%t,y=re(g,c,t)*g%t,b=re(y,i,t)*h%t,v=re(b,n,t)*u%t,S=re(v,o,t)*m%t,E=re(S,r,t)*d%t,k=re(E,dr,t);if(!fr.eql(fr.sqr(k),e))throw new Error("Cannot find square root");return k}const fr=gn(Zt.p,void 0,void 0,{sqrt:Nf}),gt=kf({...Zt,Fp:fr,lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=Zt.n,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-$f*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),a=n,o=BigInt("0x100000000000000000000000000000000"),i=Zs(a*e,t),c=Zs(-r*e,t);let d=ae(e-i*n-c*s,t),u=ae(-i*r-c*a,t);const l=d>o,p=u>o;if(l&&(d=t-d),p&&(u=t-u),d>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:l,k1:d,k2neg:p,k2:u}}}},Ai),Rf=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:gt},Symbol.toStringTag,{value:"Module"}));function Ff({r:e,s:t,to:n="hex",v:r,yParity:s}){const a=(()=>{if(s===0||s===1)return s;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),o=`0x${new gt.Signature(D(e),D(t)).toCompactHex()}${a===0?"1b":"1c"}`;return n==="hex"?o:ce(o)}async function Zr(e,t){var l,p,f;const{address:n,factory:r,factoryData:s,hash:a,signature:o,universalSignatureVerifierAddress:i=(f=(p=(l=e.chain)==null?void 0:l.contracts)==null?void 0:p.universalSignatureVerifier)==null?void 0:f.address,...c}=t,d=G(o)?o:typeof o=="object"&&"r"in o&&"s"in o?Ff(o):ne(o),u=await(async()=>!r&&!s||Io(d)?d:ud({address:r,data:s,signature:d}))();try{const m=i?{to:i,data:ie({abi:Rs,functionName:"isValidSig",args:[n,a,u]}),...c}:{data:an({abi:Rs,args:[n,a,u],bytecode:$c}),...c},{data:h}=await M(e,mt,"call")(m);return gi(h??"0x0")}catch(m){try{if(qe(we(n),await Ye({hash:a,signature:o})))return!0}catch{}if(m instanceof ba)return!1;throw m}}async function _f(e,{address:t,message:n,factory:r,factoryData:s,signature:a,...o}){const i=Ur(n);return Zr(e,{address:t,factory:r,factoryData:s,hash:i,signature:a,...o})}async function Mf(e,t){const{address:n,factory:r,factoryData:s,signature:a,message:o,primaryType:i,types:c,domain:d,...u}=t,l=ca({message:o,primaryType:i,types:c,domain:d});return Zr(e,{address:n,factory:r,factoryData:s,hash:l,signature:a,...u})}function Ko(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:a,pollingInterval:o=e.pollingInterval}){const i=typeof a<"u"?a:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc"));let c;return i?(()=>{const l=J(["watchBlockNumber",e.uid,t,n,o]);return xe(l,{onBlockNumber:r,onError:s},p=>Qe(async()=>{var f;try{const m=await M(e,ht,"getBlockNumber")({cacheTime:0});if(c){if(m===c)return;if(m-c>1&&n)for(let h=c+1n;h<m;h++)p.onBlockNumber(h,c),c=h}(!c||m>c)&&(p.onBlockNumber(m,c),c=m)}catch(m){(f=p.onError)==null||f.call(p,m)}},{emitOnBegin:t,interval:o}))})():(()=>{const l=J(["watchBlockNumber",e.uid,t,n]);return xe(l,{onBlockNumber:r,onError:s},p=>{let f=!0,m=()=>f=!1;return(async()=>{try{const h=(()=>{if(e.transport.type==="fallback"){const y=e.transport.transports.find(b=>b.config.type==="webSocket"||b.config.type==="ipc");return y?y.value:e.transport}return e.transport})(),{unsubscribe:g}=await h.subscribe({params:["newHeads"],onData(y){var v;if(!f)return;const b=D((v=y.result)==null?void 0:v.number);p.onBlockNumber(b,c),c=b},onError(y){var b;(b=p.onError)==null||b.call(p,y)}});m=g,f||m()}catch(h){s==null||s(h)}})(),()=>m()})})()}async function zf(e,t){const{checkReplacement:n=!0,confirmations:r=1,hash:s,onReplaced:a,retryCount:o=6,retryDelay:i=({count:E})=>~~(1<<E)*200,timeout:c=18e4}=t,d=J(["waitForTransactionReceipt",e.uid,s]),u=(()=>{var E;return t.pollingInterval?t.pollingInterval:(E=e.chain)!=null&&E.experimental_preconfirmationTime?e.chain.experimental_preconfirmationTime:e.pollingInterval})();let l,p,f,m=!1,h,g;const{promise:y,resolve:b,reject:v}=zr(),S=c?setTimeout(()=>{g(),h(),v(new Mi({hash:s}))},c):void 0;return h=xe(d,{onReplaced:a,resolve:b,reject:v},async E=>{if(f=await M(e,Rt,"getTransactionReceipt")({hash:s}).catch(()=>{}),f&&r<=1){clearTimeout(S),E.resolve(f),h();return}g=M(e,Ko,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:u,async onBlockNumber(k){const B=w=>{clearTimeout(S),g(),w(),h()};let I=k;if(!m)try{if(f){if(r>1&&(!f.blockNumber||I-f.blockNumber+1n<r))return;B(()=>E.resolve(f));return}if(n&&!l&&(m=!0,await Wt(async()=>{l=await M(e,Hr,"getTransaction")({hash:s}),l.blockNumber&&(I=l.blockNumber)},{delay:i,retryCount:o}),m=!1),f=await M(e,Rt,"getTransactionReceipt")({hash:s}),r>1&&(!f.blockNumber||I-f.blockNumber+1n<r))return;B(()=>E.resolve(f))}catch(w){if(w instanceof ha||w instanceof ya){if(!l){m=!1;return}try{p=l,m=!0;const P=await Wt(()=>M(e,de,"getBlock")({blockNumber:I,includeTransactions:!0}),{delay:i,retryCount:o,shouldRetry:({error:C})=>C instanceof wa});m=!1;const x=P.transactions.find(({from:C,nonce:R})=>C===p.from&&R===p.nonce);if(!x||(f=await M(e,Rt,"getTransactionReceipt")({hash:x.hash}),r>1&&(!f.blockNumber||I-f.blockNumber+1n<r)))return;let T="replaced";x.to===p.to&&x.value===p.value&&x.input===p.input?T="repriced":x.from===x.to&&x.value===0n&&(T="cancelled"),B(()=>{var C;(C=E.onReplaced)==null||C.call(E,{reason:T,replacedTransaction:p,transaction:x,transactionReceipt:f}),E.resolve(f)})}catch(P){B(()=>E.reject(P))}}else B(()=>E.reject(w))}}})}),y}function qf(e,{blockTag:t=e.experimental_blockTag??"latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:s,onError:a,includeTransactions:o,poll:i,pollingInterval:c=e.pollingInterval}){const d=typeof i<"u"?i:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),u=o??!1;let l;return d?(()=>{const m=J(["watchBlocks",e.uid,t,n,r,u,c]);return xe(m,{onBlock:s,onError:a},h=>Qe(async()=>{var g;try{const y=await M(e,de,"getBlock")({blockTag:t,includeTransactions:u});if(y.number!==null&&(l==null?void 0:l.number)!=null){if(y.number===l.number)return;if(y.number-l.number>1&&n)for(let b=(l==null?void 0:l.number)+1n;b<y.number;b++){const v=await M(e,de,"getBlock")({blockNumber:b,includeTransactions:u});h.onBlock(v,l),l=v}}((l==null?void 0:l.number)==null||t==="pending"&&(y==null?void 0:y.number)==null||y.number!==null&&y.number>l.number)&&(h.onBlock(y,l),l=y)}catch(y){(g=h.onError)==null||g.call(h,y)}},{emitOnBegin:r,interval:c}))})():(()=>{let m=!0,h=!0,g=()=>m=!1;return(async()=>{try{r&&M(e,de,"getBlock")({blockTag:t,includeTransactions:u}).then(v=>{m&&h&&(s(v,void 0),h=!1)}).catch(a);const y=(()=>{if(e.transport.type==="fallback"){const v=e.transport.transports.find(S=>S.config.type==="webSocket"||S.config.type==="ipc");return v?v.value:e.transport}return e.transport})(),{unsubscribe:b}=await y.subscribe({params:["newHeads"],async onData(v){var E;if(!m)return;const S=await M(e,de,"getBlock")({blockNumber:(E=v.result)==null?void 0:E.number,includeTransactions:u}).catch(()=>{});m&&(s(S,l),h=!1,l=S)},onError(v){a==null||a(v)}});g=b,m||g()}catch(y){a==null||a(y)}})(),()=>g()})()}function Of(e,{address:t,args:n,batch:r=!0,event:s,events:a,fromBlock:o,onError:i,onLogs:c,poll:d,pollingInterval:u=e.pollingInterval,strict:l}){const p=typeof d<"u"?d:typeof o=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),f=l??!1;return p?(()=>{const g=J(["watchEvent",t,n,r,e.uid,s,u,o]);return xe(g,{onLogs:c,onError:i},y=>{let b;o!==void 0&&(b=o-1n);let v,S=!1;const E=Qe(async()=>{var k;if(!S){try{v=await M(e,co,"createEventFilter")({address:t,args:n,event:s,events:a,strict:f,fromBlock:o})}catch{}S=!0;return}try{let B;if(v)B=await M(e,on,"getFilterChanges")({filter:v});else{const I=await M(e,ht,"getBlockNumber")({});b&&b!==I?B=await M(e,Cr,"getLogs")({address:t,args:n,event:s,events:a,fromBlock:b+1n,toBlock:I}):B=[],b=I}if(B.length===0)return;if(r)y.onLogs(B);else for(const I of B)y.onLogs([I])}catch(B){v&&B instanceof jt&&(S=!1),(k=y.onError)==null||k.call(y,B)}},{emitOnBegin:!0,interval:u});return async()=>{v&&await M(e,cn,"uninstallFilter")({filter:v}),E()}})})():(()=>{let g=!0,y=()=>g=!1;return(async()=>{try{const b=(()=>{if(e.transport.type==="fallback"){const k=e.transport.transports.find(B=>B.config.type==="webSocket"||B.config.type==="ipc");return k?k.value:e.transport}return e.transport})(),v=a??(s?[s]:void 0);let S=[];v&&(S=[v.flatMap(B=>it({abi:[B],eventName:B.name,args:n}))],s&&(S=S[0]));const{unsubscribe:E}=await b.subscribe({params:["logs",{address:t,topics:S}],onData(k){var I;if(!g)return;const B=k.result;try{const{eventName:w,args:P}=aa({abi:v??[],data:B.data,topics:B.topics,strict:f}),x=Te(B,{args:P,eventName:w});c([x])}catch(w){let P,x;if(w instanceof oa||w instanceof ia){if(l)return;P=w.abiItem.name,x=(I=w.abiItem.inputs)==null?void 0:I.some(C=>!("name"in C&&C.name))}const T=Te(B,{args:x?[]:{},eventName:P});c([T])}},onError(k){i==null||i(k)}});y=E,g||y()}catch(b){i==null||i(b)}})(),()=>y()})()}function Lf(e,{batch:t=!0,onError:n,onTransactions:r,poll:s,pollingInterval:a=e.pollingInterval}){return(typeof s<"u"?s:e.transport.type!=="webSocket"&&e.transport.type!=="ipc")?(()=>{const d=J(["watchPendingTransactions",e.uid,t,a]);return xe(d,{onTransactions:r,onError:n},u=>{let l;const p=Qe(async()=>{var f;try{if(!l)try{l=await M(e,uo,"createPendingTransactionFilter")({});return}catch(h){throw p(),h}const m=await M(e,on,"getFilterChanges")({filter:l});if(m.length===0)return;if(t)u.onTransactions(m);else for(const h of m)u.onTransactions([h])}catch(m){(f=u.onError)==null||f.call(u,m)}},{emitOnBegin:!0,interval:a});return async()=>{l&&await M(e,cn,"uninstallFilter")({filter:l}),p()}})})():(()=>{let d=!0,u=()=>d=!1;return(async()=>{try{const{unsubscribe:l}=await e.transport.subscribe({params:["newPendingTransactions"],onData(p){if(!d)return;const f=p.result;r([f])},onError(p){n==null||n(p)}});u=l,d||u()}catch(l){n==null||n(l)}})(),()=>u()})()}function Gf(e){var l,p,f;const{scheme:t,statement:n,...r}=((l=e.match(Df))==null?void 0:l.groups)??{},{chainId:s,expirationTime:a,issuedAt:o,notBefore:i,requestId:c,...d}=((p=e.match(jf))==null?void 0:p.groups)??{},u=(f=e.split("Resources:")[1])==null?void 0:f.split(`
- `).slice(1);return{...r,...d,...s?{chainId:Number(s)}:{},...a?{expirationTime:new Date(a)}:{},...o?{issuedAt:new Date(o)}:{},...i?{notBefore:new Date(i)}:{},...c?{requestId:c}:{},...u?{resources:u}:{},...t?{scheme:t}:{},...n?{statement:n}:{}}}const Df=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,jf=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function Uf(e){const{address:t,domain:n,message:r,nonce:s,scheme:a,time:o=new Date}=e;if(n&&r.domain!==n||s&&r.nonce!==s||a&&r.scheme!==a||r.expirationTime&&o>=r.expirationTime||r.notBefore&&o<r.notBefore)return!1;try{if(!r.address||!le(r.address,{strict:!1})||t&&!qe(r.address,t))return!1}catch{return!1}return!0}async function Hf(e,t){const{address:n,domain:r,message:s,nonce:a,scheme:o,signature:i,time:c=new Date,...d}=t,u=Gf(s);if(!u.address||!Uf({address:n,domain:r,message:u,nonce:a,scheme:o,time:c}))return!1;const p=Ur(s);return Zr(e,{address:u.address,hash:p,signature:i,...d})}function Vf(e){return{call:t=>mt(e,t),createAccessList:t=>io(e,t),createBlockFilter:()=>Eu(e),createContractEventFilter:t=>wr(e,t),createEventFilter:t=>co(e,t),createPendingTransactionFilter:()=>uo(e),estimateContractGas:t=>ka(e,t),estimateGas:t=>Br(e,t),getBalance:t=>Ca(e,t),getBlobBaseFee:()=>Tu(e),getBlock:t=>de(e,t),getBlockNumber:t=>ht(e,t),getBlockTransactionCount:t=>Pu(e,t),getBytecode:t=>zs(e,t),getChainId:()=>Je(e),getCode:t=>zs(e,t),getContractEvents:t=>kr(e,t),getEip712Domain:t=>Au(e,t),getEnsAddress:t=>ou(e,t),getEnsAvatar:t=>wu(e,t),getEnsName:t=>xu(e,t),getEnsResolver:t=>vu(e,t),getEnsText:t=>oo(e,t),getFeeHistory:t=>Cu(e,t),estimateFeesPerGas:t=>Yi(e,t),getFilterChanges:t=>on(e,t),getFilterLogs:t=>ku(e,t),getGasPrice:()=>Tr(e),getLogs:t=>Cr(e,t),getProof:t=>Td(e,t),estimateMaxPriorityFeePerGas:t=>Ki(e,t),getStorageAt:t=>Pd(e,t),getTransaction:t=>Hr(e,t),getTransactionConfirmations:t=>Id(e,t),getTransactionCount:t=>en(e,t),getTransactionReceipt:t=>Rt(e,t),multicall:t=>Ad(e,t),prepareTransactionRequest:t=>tn(e,t),readContract:t=>me(e,t),sendRawTransaction:t=>Or(e,t),simulate:t=>sr(e,t),simulateBlocks:t=>sr(e,t),simulateCalls:t=>nf(e,t),simulateContract:t=>Va(e,t),verifyMessage:t=>_f(e,t),verifySiweMessage:t=>Hf(e,t),verifyTypedData:t=>Mf(e,t),uninstallFilter:t=>cn(e,t),waitForTransactionReceipt:t=>zf(e,t),watchBlocks:t=>qf(e,t),watchBlockNumber:t=>Ko(e,t),watchContractEvent:t=>Wa(e,t),watchEvent:t=>Of(e,t),watchPendingTransactions:t=>Lf(e,t)}}function y0(e){const{key:t="public",name:n="Public Client"}=e;return Lr({...e,key:t,name:n,type:"publicClient"}).extend(Vf)}async function Wf(e,{hash:t}){await e.request({method:`${e.mode}_dropTransaction`,params:[t]})}async function Zf(e){return e.request({method:`${e.mode}_dumpState`})}async function Kf(e){return e.mode==="ganache"?await e.request({method:"eth_mining"}):await e.request({method:`${e.mode}_getAutomine`})}async function Yf(e){return await e.request({method:"txpool_content"})}async function Jf(e){const{pending:t,queued:n}=await e.request({method:"txpool_status"});return{pending:Z(t),queued:Z(n)}}async function Xf(e,{address:t}){await e.request({method:`${e.mode}_impersonateAccount`,params:[t]})}async function Qf(e,{seconds:t}){return await e.request({method:"evm_increaseTime",params:[$(t)]})}async function el(e){return await e.request({method:"txpool_inspect"})}async function tl(e,{state:t}){await e.request({method:`${e.mode}_loadState`,params:[t]})}async function nl(e,{blocks:t,interval:n}){e.mode==="ganache"?await e.request({method:"evm_mine",params:[{blocks:$(t)}]}):await e.request({method:`${e.mode}_mine`,params:[$(t),$(n||0)]})}async function rl(e){await e.request({method:`${e.mode}_removeBlockTimestampInterval`})}async function sl(e,{blockNumber:t,jsonRpcUrl:n}={}){await e.request({method:`${e.mode}_reset`,params:[{forking:{blockNumber:Number(t),jsonRpcUrl:n}}]})}async function al(e,{id:t}){await e.request({method:"evm_revert",params:[t]})}async function ol(e,t){var y,b,v;const{accessList:n,data:r,from:s,gas:a,gasPrice:o,maxFeePerGas:i,maxPriorityFeePerGas:c,nonce:d,to:u,value:l,...p}=t,f=(v=(b=(y=e.chain)==null?void 0:y.formatters)==null?void 0:b.transactionRequest)==null?void 0:v.format,h=(f||ze)({...pt(p,{format:f}),accessList:n,data:r,from:s,gas:a,gasPrice:o,maxFeePerGas:i,maxPriorityFeePerGas:c,nonce:d,to:u,value:l});return await e.request({method:"eth_sendUnsignedTransaction",params:[h]})}async function il(e,t){e.mode==="ganache"?t?await e.request({method:"miner_start"}):await e.request({method:"miner_stop"}):await e.request({method:"evm_setAutomine",params:[t]})}async function cl(e,{address:t,value:n}){e.mode==="ganache"?await e.request({method:"evm_setAccountBalance",params:[t,$(n)]}):await e.request({method:`${e.mode}_setBalance`,params:[t,$(n)]})}async function ul(e,{gasLimit:t}){await e.request({method:"evm_setBlockGasLimit",params:[$(t)]})}async function dl(e,{interval:t}){const n=e.mode==="hardhat"?t*1e3:t;await e.request({method:`${e.mode}_setBlockTimestampInterval`,params:[n]})}async function fl(e,{address:t,bytecode:n}){e.mode==="ganache"?await e.request({method:"evm_setAccountCode",params:[t,n]}):await e.request({method:`${e.mode}_setCode`,params:[t,n]})}async function ll(e,{address:t}){await e.request({method:`${e.mode}_setCoinbase`,params:[t]})}async function pl(e,{interval:t}){const n=e.mode==="hardhat"?t*1e3:t;await e.request({method:"evm_setIntervalMining",params:[n]})}async function ml(e,t){await e.request({method:`${e.mode}_setLoggingEnabled`,params:[t]})}async function hl(e,{gasPrice:t}){await e.request({method:`${e.mode}_setMinGasPrice`,params:[$(t)]})}async function yl(e,{baseFeePerGas:t}){await e.request({method:`${e.mode}_setNextBlockBaseFeePerGas`,params:[$(t)]})}async function bl(e,{timestamp:t}){await e.request({method:"evm_setNextBlockTimestamp",params:[$(t)]})}async function gl(e,{address:t,nonce:n}){await e.request({method:`${e.mode}_setNonce`,params:[t,$(n)]})}async function wl(e,t){await e.request({method:`${e.mode}_setRpcUrl`,params:[t]})}async function xl(e,{address:t,index:n,value:r}){await e.request({method:`${e.mode}_setStorageAt`,params:[t,typeof n=="number"?$(n):n,r]})}async function vl(e){return await e.request({method:"evm_snapshot"})}async function El(e,{address:t}){await e.request({method:`${e.mode}_stopImpersonatingAccount`,params:[t]})}function Tl({mode:e}){return t=>{const n=t.extend(()=>({mode:e}));return{dropTransaction:r=>Wf(n,r),dumpState:()=>Zf(n),getAutomine:()=>Kf(n),getTxpoolContent:()=>Yf(n),getTxpoolStatus:()=>Jf(n),impersonateAccount:r=>Xf(n,r),increaseTime:r=>Qf(n,r),inspectTxpool:()=>el(n),loadState:r=>tl(n,r),mine:r=>nl(n,r),removeBlockTimestampInterval:()=>rl(n),reset:r=>sl(n,r),revert:r=>al(n,r),sendUnsignedTransaction:r=>ol(n,r),setAutomine:r=>il(n,r),setBalance:r=>cl(n,r),setBlockGasLimit:r=>ul(n,r),setBlockTimestampInterval:r=>dl(n,r),setCode:r=>fl(n,r),setCoinbase:r=>ll(n,r),setIntervalMining:r=>pl(n,r),setLoggingEnabled:r=>ml(n,r),setMinGasPrice:r=>hl(n,r),setNextBlockBaseFeePerGas:r=>yl(n,r),setNextBlockTimestamp:r=>bl(n,r),setNonce:r=>gl(n,r),setRpcUrl:r=>wl(n,r),setStorageAt:r=>xl(n,r),snapshot:()=>vl(n),stopImpersonatingAccount:r=>El(n,r)}}}function b0(e){const{key:t="test",name:n="Test Client",mode:r}=e;return Lr({...e,key:t,name:n,type:"testClient"}).extend(a=>({mode:r,...Tl({mode:r})(a)}))}async function Pl(e,{chain:t}){const{id:n,name:r,nativeCurrency:s,rpcUrls:a,blockExplorers:o}=t;await e.request({method:"wallet_addEthereumChain",params:[{chainId:$(n),chainName:r,nativeCurrency:s,rpcUrls:a.default.http,blockExplorerUrls:o?Object.values(o).map(({url:i})=>i):void 0}]},{dedupe:!0,retryCount:0})}function Il(e,t){const{abi:n,args:r,bytecode:s,...a}=t,o=an({abi:n,args:r,bytecode:s});return un(e,{...a,...a.authorizationList?{to:null}:{},data:o})}async function Al(e){var n;return((n=e.account)==null?void 0:n.type)==="local"?[e.account.address]:(await e.request({method:"eth_accounts"},{dedupe:!0})).map(r=>Qs(r))}async function Sl(e,t={}){const{account:n=e.account,chainId:r}=t,s=n?Y(n):void 0,a=r?[s==null?void 0:s.address,[$(r)]]:[s==null?void 0:s.address],o=await e.request({method:"wallet_getCapabilities",params:a}),i={};for(const[c,d]of Object.entries(o)){i[Number(c)]={};for(let[u,l]of Object.entries(d))u==="addSubAccount"&&(u="unstable_addSubAccount"),i[Number(c)][u]=l}return typeof r=="number"?i[r]:i}async function Bl(e){return await e.request({method:"wallet_getPermissions"},{dedupe:!0})}async function Yo(e,t){var c;const{account:n=e.account,chainId:r,nonce:s}=t;if(!n)throw new Ge({docsPath:"/docs/eip7702/prepareAuthorization"});const a=Y(n),o=(()=>{if(t.executor)return t.executor==="self"?t.executor:Y(t.executor)})(),i={address:t.contractAddress??t.address,chainId:r,nonce:s};return typeof i.chainId>"u"&&(i.chainId=((c=e.chain)==null?void 0:c.id)??await M(e,Je,"getChainId")({})),typeof i.nonce>"u"&&(i.nonce=await M(e,en,"getTransactionCount")({address:a.address,blockTag:"pending"}),(o==="self"||o!=null&&o.address&&qe(o.address,a.address))&&(i.nonce+=1)),i}async function Cl(e){return(await e.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(n=>we(n))}async function kl(e,t){return e.request({method:"wallet_requestPermissions",params:[t]},{retryCount:0})}async function $l(e,t){const{id:n}=t;await e.request({method:"wallet_showCallsStatus",params:[n]})}async function Nl(e,t){const{account:n=e.account}=t;if(!n)throw new Ge({docsPath:"/docs/eip7702/signAuthorization"});const r=Y(n);if(!r.signAuthorization)throw new kt({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:r.type});const s=await Yo(e,t);return r.signAuthorization(s)}async function Rl(e,{account:t=e.account,message:n}){if(!t)throw new Ge({docsPath:"/docs/actions/wallet/signMessage"});const r=Y(t);if(r.signMessage)return r.signMessage({message:n});const s=typeof n=="string"?Lt(n):n.raw instanceof Uint8Array?fe(n.raw):n.raw;return e.request({method:"personal_sign",params:[s,r.address]},{retryCount:0})}async function Fl(e,t){var d,u,l,p;const{account:n=e.account,chain:r=e.chain,...s}=t;if(!n)throw new Ge({docsPath:"/docs/actions/wallet/signTransaction"});const a=Y(n);Oe({account:a,...t});const o=await M(e,Je,"getChainId")({});r!==null&&Za({currentChainId:o,chain:r});const i=(r==null?void 0:r.formatters)||((d=e.chain)==null?void 0:d.formatters),c=((u=i==null?void 0:i.transactionRequest)==null?void 0:u.format)||ze;return a.signTransaction?a.signTransaction({...s,chainId:o},{serializer:(p=(l=e.chain)==null?void 0:l.serializers)==null?void 0:p.transaction}):await e.request({method:"eth_signTransaction",params:[{...c(s),chainId:$(o),from:a.address}]},{retryCount:0})}async function _l(e,t){const{account:n=e.account,domain:r,message:s,primaryType:a}=t;if(!n)throw new Ge({docsPath:"/docs/actions/wallet/signTypedData"});const o=Y(n),i={EIP712Domain:wi({domain:r}),...t.types};if(xi({domain:r,message:s,primaryType:a,types:i}),o.signTypedData)return o.signTypedData({domain:r,message:s,primaryType:a,types:i});const c=vi({domain:r,message:s,primaryType:a,types:i});return e.request({method:"eth_signTypedData_v4",params:[o.address,c]},{retryCount:0})}async function Ml(e,{id:t}){await e.request({method:"wallet_switchEthereumChain",params:[{chainId:$(t)}]},{retryCount:0})}async function zl(e,t){return await e.request({method:"wallet_watchAsset",params:t},{retryCount:0})}function ql(e){return{addChain:t=>Pl(e,t),deployContract:t=>Il(e,t),getAddresses:()=>Al(e),getCallsStatus:t=>Qa(e,t),getCapabilities:t=>Sl(e,t),getChainId:()=>Je(e),getPermissions:()=>Bl(e),prepareAuthorization:t=>Yo(e,t),prepareTransactionRequest:t=>tn(e,t),requestAddresses:()=>Cl(e),requestPermissions:t=>kl(e,t),sendCalls:t=>Vc(e,t),sendRawTransaction:t=>Or(e,t),sendTransaction:t=>un(e,t),showCallsStatus:t=>$l(e,t),signAuthorization:t=>Nl(e,t),signMessage:t=>Rl(e,t),signTransaction:t=>Fl(e,t),signTypedData:t=>_l(e,t),switchChain:t=>Ml(e,t),waitForCallsStatus:t=>Wc(e,t),watchAsset:t=>zl(e,t),writeContract:t=>Ya(e,t)}}function g0(e){const{key:t="wallet",name:n="Wallet Client",transport:r}=e;return Lr({...e,key:t,name:n,transport:r,type:"walletClient"}).extend(ql)}function w0(e,t={}){const{keepAlive:n,key:r="webSocket",methods:s,name:a="WebSocket JSON-RPC",reconnect:o,retryDelay:i}=t;return({chain:c,retryCount:d,timeout:u})=>{var h;const l=t.retryCount??d,p=u??t.timeout??1e4,f=e||((h=c==null?void 0:c.rpcUrls.default.webSocket)==null?void 0:h[0]),m={keepAlive:n,reconnect:o};if(!f)throw new to;return dn({key:r,methods:s,name:a,async request({method:g,params:y}){const b={method:g,params:y},v=await Nt(f,m),{error:S,result:E}=await v.requestAsync({body:b,timeout:p});if(S)throw new gr({body:b,error:S,url:f});return E},retryCount:l,retryDelay:i,timeout:p,type:"webSocket"},{getSocket(){return qu(f)},getRpcClient(){return Nt(f,m)},async subscribe({params:g,onData:y,onError:b}){const v=await Nt(f,m),{result:S}=await new Promise((E,k)=>v.request({body:{method:"eth_subscribe",params:g},onError(B){k(B),b==null||b(B)},onResponse(B){if(B.error){k(B.error),b==null||b(B.error);return}if(typeof B.id=="number"){E(B);return}B.method==="eth_subscription"&&y(B.params)}}));return{subscriptionId:S,async unsubscribe(){return new Promise(E=>v.request({body:{method:"eth_unsubscribe",params:[S]},onResponse:E}))}}}})}}class x0 extends Error{constructor(t,n){super(n),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=t,this.details=n}}const Fn="/docs/contract/decodeDeployData";function v0(e){const{abi:t,bytecode:n,data:r}=e;if(r===n)return{bytecode:n};const s=t.find(o=>"type"in o&&o.type==="constructor");if(!s)throw new ra({docsPath:Fn});if(!("inputs"in s))throw new qt({docsPath:Fn});if(!s.inputs||s.inputs.length===0)throw new qt({docsPath:Fn});return{args:Kt(s.inputs,`0x${r.replace(n,"")}`),bytecode:n}}function E0({r:e,yParityAndS:t}){const n=ce(t),r=n[0]&128?1:0,s=n;return r===1&&(s[0]&=127),{r:e,s:ne(s),yParity:r}}function T0(e){const{r:t,s:n}=gt.Signature.fromCompact(e.slice(2,130));return{r:$(t,{size:32}),yParityAndS:$(n,{size:32})}}function P0(e){const{r:t,s:n}=gt.Signature.fromCompact(e.slice(2,130)),r=+`0x${e.slice(130)}`,[s,a]=(()=>{if(r===0||r===1)return[void 0,r];if(r===27)return[BigInt(r),0];if(r===28)return[BigInt(r),1];throw new Error("Invalid yParityOrV value")})();return typeof s<"u"?{r:$(t,{size:32}),s:$(n,{size:32}),v:s,yParity:a}:{r:$(t,{size:32}),s:$(n,{size:32}),yParity:a}}async function I0(e){const{serializedTransaction:t,signature:n}=e,r=fd(t),s=n??{r:r.r,s:r.s,v:r.v,yParity:r.yParity},a=Ou({...r,r:void 0,s:void 0,v:void 0,yParity:void 0,sidecars:void 0});return await Ye({hash:be(a),signature:s})}function A0(e){const{r:t,s:n,v:r,yParity:s}=e,a=Number(s??r-27n);let o=n;if(a===1){const i=ce(n);i[0]|=128,o=ne(i)}return{r:t,yParityAndS:o}}function S0({r:e,yParityAndS:t}){return`0x${new gt.Signature(D(e),D(t)).toCompactHex()}`}function B0(e){const{sidecars:t,version:n}=e,r=e.to??(typeof t[0].blob=="string"?"hex":"bytes"),s=[];for(const{commitment:a}of t)s.push(va({commitment:a,to:r,version:n}));return s}function C0(e){const t=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),n=typeof e.blobs[0]=="string"?e.blobs.map(i=>ce(i)):e.blobs,r=n.reduce((i,c)=>i+c.length,0),s=Mt(new Uint8Array(r));let a=!0;for(const i of n){const c=Mt(i);for(;a&&c.position<i.length;){c.incrementPosition(1);let d=31;i.length-c.position<31&&(d=i.length-c.position);for(const u in Array.from({length:d})){const l=c.readByte();if(l===128&&!c.inspectBytes(c.remaining).includes(128)){a=!1;break}s.pushByte(l)}}}const o=s.bytes.slice(0,s.position);return t==="hex"?ne(o):o}function Ol({blobToKzgCommitment:e,computeBlobKzgProof:t}){return{blobToKzgCommitment:e,computeBlobKzgProof:t}}function k0(e,t){try{e.loadTrustedSetup(t)}catch(n){const r=n;if(!r.message.includes("trusted setup is already loaded"))throw r}return Ol(e)}export{ra as AbiConstructorNotFoundError,qt as AbiConstructorParamsNotFoundError,R0 as AbiDecodingDataSizeInvalidError,F0 as AbiDecodingDataSizeTooSmallError,pr as AbiDecodingZeroDataError,_0 as AbiEncodingArrayLengthMismatchError,M0 as AbiEncodingBytesSizeMismatchError,z0 as AbiEncodingLengthMismatchError,ni as AbiErrorInputsNotFoundError,Jr as AbiErrorNotFoundError,Qo as AbiErrorSignatureNotFoundError,q0 as AbiEventNotFoundError,O0 as AbiEventSignatureEmptyTopicsError,L0 as AbiEventSignatureNotFoundError,Ve as AbiFunctionNotFoundError,ta as AbiFunctionOutputsNotFoundError,ti as AbiFunctionSignatureNotFoundError,Bi as AccountStateConflictError,ts as AtomicReadyWalletRejectedUpgradeError,qn as AtomicityNotSupportedError,N as BaseError,Wi as BaseFeeScalarError,wa as BlockNotFoundError,Hc as BundleFailedError,ns as BundleTooLargeError,G0 as BytesSizeMismatchError,ba as CallExecutionError,is as ChainDisconnectedError,tr as ChainDoesNotSupportContract,Nc as ChainMismatchError,Rc as ChainNotFoundError,D0 as CircularReferenceError,Ua as ClientChainNotConfiguredError,zi as ContractFunctionExecutionError,Dn as ContractFunctionRevertedError,qi as ContractFunctionZeroDataError,Oi as CounterfactualDeploymentFailedError,oa as DecodeLogDataMismatch,ia as DecodeLogTopicsMismatch,ss as DuplicateIdError,x0 as EIP1193ProviderRpcError,Er as Eip1559FeesNotSupportedError,tt as EnsAvatarInvalidNftUriError,cu as EnsAvatarUnsupportedNamespaceError,Dr as EnsAvatarUriResolutionError,Ui as EstimateGasExecutionError,Se as ExecutionRevertedError,Fe as FeeCapTooHighError,jn as FeeCapTooLowError,$i as FeeConflictError,j0 as FilterTypeNotSupportedError,ke as HttpRequestError,Wn as InsufficientFundsError,U0 as IntegerOutOfRangeError,Dt as InternalRpcError,Zn as IntrinsicGasTooHighError,Kn as IntrinsicGasTooLowError,H0 as InvalidAbiDecodingTypeError,V0 as InvalidAbiEncodingTypeError,W0 as InvalidAbiItemError,Jo as InvalidAbiParameterError,Xo as InvalidAbiParametersError,Z0 as InvalidAbiTypeParameterError,ge as InvalidAddressError,ri as InvalidArrayError,K0 as InvalidBytesBooleanError,sn as InvalidChainIdError,gd as InvalidDecimalNumberError,Y0 as InvalidDefinitionTypeError,J0 as InvalidDomainError,X0 as InvalidFunctionModifierError,Q0 as InvalidHexBooleanError,ci as InvalidHexValueError,jt as InvalidInputRpcError,ma as InvalidLegacyVError,ep as InvalidModifierError,tp as InvalidParameterError,ms as InvalidParamsRpcError,np as InvalidParenthesisError,rp as InvalidPrimaryTypeError,ys as InvalidRequestRpcError,Ni as InvalidSerializableTransactionError,ft as InvalidSerializedTransactionError,Ri as InvalidSerializedTransactionTypeError,sp as InvalidSignatureError,Fi as InvalidStorageKeySizeError,ap as InvalidStructSignatureError,op as InvalidStructTypeError,fs as JsonRpcVersionUnsupportedError,On as LimitExceededRpcError,Zi as MaxFeePerGasTooLowError,hs as MethodNotFoundRpcError,xt as MethodNotSupportedRpcError,Vn as NonceMaxValueError,Un as NonceTooHighError,Hn as NonceTooLowError,bs as ParseRpcError,cs as ProviderDisconnectedError,Wp as ProviderRpcError,Xt as RawContractError,ps as ResourceNotFoundRpcError,ls as ResourceUnavailableRpcError,Zp as RpcError,gr as RpcRequestError,ip as SizeExceedsPaddingSizeError,cp as SizeOverflowError,up as SliceOffsetOutOfBoundsError,Ut as SocketClosedError,dp as SolidityProtectedKeywordError,Ci as StateAssignmentConflictError,os as SwitchChainError,Gn as TimeoutError,ot as TipAboveFeeCapError,_i as TransactionExecutionError,ha as TransactionNotFoundError,ya as TransactionReceiptNotFoundError,Ln as TransactionRejectedRpcError,Yn as TransactionTypeNotSupportedError,ds as UnauthorizedProviderError,rs as UnknownBundleIdError,lt as UnknownNodeError,Ti as UnknownRpcError,fp as UnknownSignatureError,lp as UnknownTypeError,as as UnsupportedChainIdError,zn as UnsupportedNonOptionalCapabilityError,pp as UnsupportedPackedAbiType,us as UnsupportedProviderMethodError,to as UrlRequiredError,Ct as UserRejectedRequestError,Zc as WaitForCallsStatusTimeoutError,Mi as WaitForTransactionReceiptTimeoutError,gs as WebSocketRequestError,Za as assertCurrentChain,Oe as assertRequest,pn as assertTransactionEIP1559,ho as assertTransactionEIP2930,yo as assertTransactionLegacy,Pr as blobsToCommitments,Ir as blobsToProofs,mp as boolToBytes,hp as boolToHex,yp as bytesToBigInt,bp as bytesToBool,ne as bytesToHex,gp as bytesToNumber,Yp as bytesToRlp,wp as bytesToString,lo as ccipFetch,lo as ccipRequest,Qs as checksumAddress,va as commitmentToVersionedHash,Ea as commitmentsToVersionedHashes,S0 as compactSignatureToHex,E0 as compactSignatureToSignature,$e as concat,xp as concatBytes,ve as concatHex,Lr as createClient,wd as createNonceManager,y0 as createPublicClient,b0 as createTestClient,dn as createTransport,g0 as createWalletClient,n0 as custom,Kt as decodeAbiParameters,v0 as decodeDeployData,Js as decodeErrorResult,aa as decodeEventLog,nu as decodeFunctionData,Le as decodeFunctionResult,vp as defineBlock,Ep as defineChain,Ol as defineKzg,Tp as defineTransaction,Pp as defineTransactionReceipt,Ip as defineTransactionRequest,ja as deploylessCallViaBytecodeBytecode,kc as deploylessCallViaFactoryBytecode,Ap as domainSeparator,Ke as encodeAbiParameters,an as encodeDeployData,_s as encodeErrorResult,it as encodeEventTopics,ie as encodeFunctionData,ru as encodeFunctionResult,Gh as encodePacked,Jl as erc1155Abi,Kl as erc20Abi,Yl as erc20Abi_bytes32,Ql as erc4626Abi,Xl as erc721Abi,ef as ethAddress,fa as etherUnits,a0 as extractChain,r0 as fallback,ea as formatBlock,xr as formatEther,te as formatGwei,Te as formatLog,di as formatTransaction,fi as formatTransactionReceipt,ze as formatTransactionRequest,pa as formatUnits,C0 as fromBlobs,Sp as fromBytes,Bp as fromHex,bo as fromRlp,Ze as getAbiItem,we as getAddress,Xe as getChainContractAddress,e0 as getContract,o0 as getContractAddress,Re as getContractError,Wu as getCreate2Address,Vu as getCreateAddress,Cp as getEventSelector,kp as getEventSignature,lr as getFunctionSelector,$p as getFunctionSignature,dd as getSerializedTransactionType,Sa as getTransactionType,wi as getTypesForEIP712Domain,la as gweiUnits,Np as hashDomain,Ur as hashMessage,Rp as hashStruct,ca as hashTypedData,D as hexToBigInt,gi as hexToBool,ce as hexToBytes,T0 as hexToCompactSignature,Z as hexToNumber,Jp as hexToRlp,P0 as hexToSignature,Fp as hexToString,s0 as http,le as isAddress,qe as isAddressEqual,qs as isBytes,Io as isErc6492Signature,Ku as isHash,G as isHex,be as keccak256,oi as labelhash,Qp as maxInt104,em as maxInt112,tm as maxInt120,nm as maxInt128,rm as maxInt136,sm as maxInt144,am as maxInt152,om as maxInt16,im as maxInt160,cm as maxInt168,um as maxInt176,dm as maxInt184,fm as maxInt192,lm as maxInt200,pm as maxInt208,mm as maxInt216,hm as maxInt224,ym as maxInt232,bm as maxInt24,gm as maxInt240,wm as maxInt248,xm as maxInt256,vm as maxInt32,Em as maxInt40,Tm as maxInt48,Pm as maxInt56,Im as maxInt64,Am as maxInt72,Sm as maxInt8,Bm as maxInt80,Cm as maxInt88,km as maxInt96,$m as maxUint104,Nm as maxUint112,Rm as maxUint120,Fm as maxUint128,_m as maxUint136,Mm as maxUint144,zm as maxUint152,qm as maxUint16,Om as maxUint160,Lm as maxUint168,Gm as maxUint176,Dm as maxUint184,jm as maxUint192,Um as maxUint200,Hm as maxUint208,Vm as maxUint216,Wm as maxUint224,Zm as maxUint232,Km as maxUint24,Ym as maxUint240,Jm as maxUint248,Yt as maxUint256,Xm as maxUint32,Qm as maxUint40,eh as maxUint48,th as maxUint56,nh as maxUint64,rh as maxUint72,sh as maxUint8,ah as maxUint80,oh as maxUint88,ih as maxUint96,ch as minInt104,uh as minInt112,dh as minInt120,fh as minInt128,lh as minInt136,ph as minInt144,mh as minInt152,hh as minInt16,yh as minInt160,bh as minInt168,gh as minInt176,wh as minInt184,xh as minInt192,vh as minInt200,Eh as minInt208,Th as minInt216,Ph as minInt224,Ih as minInt232,Ah as minInt24,Sh as minInt240,Bh as minInt248,Ch as minInt256,kh as minInt32,$h as minInt40,Nh as minInt48,Rh as minInt56,Fh as minInt64,_h as minInt72,Mh as minInt8,zh as minInt80,qh as minInt88,Oh as minInt96,Qn as multicall3Abi,$t as namehash,h0 as nonceManager,_p as numberToBytes,$ as numberToHex,_u as offchainLookup,fo as offchainLookupAbiItem,Fu as offchainLookupSignature,ii as pad,Mp as padBytes,Xr as padHex,sa as parseAbi,Qr as parseAbiItem,Ul as parseAbiParameter,Hl as parseAbiParameters,T0 as parseCompactSignature,l0 as parseErc6492Signature,p0 as parseEther,hr as parseEventLogs,m0 as parseGwei,P0 as parseSignature,fd as parseTransaction,Ao as parseUnits,Si as prepareEncodeFunctionData,ad as presignMessagePrefix,Vf as publicActions,Ye as recoverAddress,id as recoverMessageAddress,Di as recoverPublicKey,I0 as recoverTransactionAddress,cd as recoverTypedDataAddress,i0 as ripemd160,t0 as rpcSchema,zp as rpcTransactionType,mn as serializeAccessList,S0 as serializeCompactSignature,ud as serializeErc6492Signature,Ff as serializeSignature,Ou as serializeTransaction,vi as serializeTypedData,qp as setErrorConfig,k0 as setupKzg,Pi as sha256,Xc as shouldThrow,B0 as sidecarsToVersionedHashes,A0 as signatureToCompactSignature,Ff as signatureToHex,ut as size,Gt as slice,Op as sliceBytes,Ot as sliceHex,Bt as stringToBytes,Lt as stringToHex,J as stringify,Tl as testActions,Sr as toBlobSidecars,ec as toBlobs,Ee as toBytes,Lp as toEventHash,Gp as toEventSelector,Dp as toEventSignature,jp as toFunctionHash,lr as toFunctionSelector,Up as toFunctionSignature,fe as toHex,od as toPrefixedMessage,Pe as toRlp,Hp as transactionType,Ne as trim,Rs as universalSignatureValidatorAbi,$c as universalSignatureValidatorByteCode,xi as validateTypedData,c0 as verifyHash,u0 as verifyMessage,d0 as verifyTypedData,ql as walletActions,w0 as webSocket,Vl as weiUnits,jc as withCache,Wt as withRetry,no as withTimeout,ue as zeroAddress,f0 as zeroHash};
